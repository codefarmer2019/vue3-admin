var e=Object.assign;import{d as a,al as n,a8 as o,am as s,S as l,K as t,J as r,t as d,X as i,ab as u,W as c,x as m,y as p,Z as f,z as g,A as v,c as y,F as b,a2 as w}from"./index.c2de4877.js";import"./vendor.183d7d35.js";var I=a({name:"login",components:{UserOutlined:n,LockOutlined:o,SvgIcon:s},setup(){const a=l({loading:!1,formInline:{username:"",password:""}}),n=c(),o=t(),s=r();return e(e({},d(a)),{handleSubmit:async()=>{var e;const{username:l,password:t}=a.formInline;if(""==l.trim()||""==t.trim())return i.warning("用户名或密码不能为空！");i.loading("登录中...",0),a.loading=!0;const r={username:l,password:t},{code:d,result:c,message:m}=await n.dispatch(u.Login,r).finally((()=>{a.loading=!1,i.destroy()}));if(0==d){const a=decodeURIComponent((null==(e=s.query)?void 0:e.redirect)||"/");i.success("登录成功！"),o.replace(a).then((e=>{"login"==s.name&&o.replace("/")}))}else i.info(m||"登录失败")}})}});const h=b("data-v-23fdcc43");m("data-v-23fdcc43");const _={class:"login-box"},x={class:"login-logo"},S=y("h1",null,"Antd Admin",-1),z=w(" 登录 ");p();const U=h(((e,a,n,o,s,l)=>{const t=f("svg-icon"),r=f("user-outlined"),d=f("a-input"),i=f("a-form-item"),u=f("lock-outlined"),c=f("a-button"),m=f("a-form");return g(),v("div",_,[y("div",x,[y(t,{"icon-class":"logo"}),S]),y(m,{layout:"horizontal",model:e.formInline,onSubmit:e.handleSubmit},{default:h((()=>[y(i,null,{default:h((()=>[y(d,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),size:"large",placeholder:"admin"},{prefix:h((()=>[y(r,{type:"user"})])),_:1},8,["value"])])),_:1}),y(i,null,{default:h((()=>[y(d,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:h((()=>[y(u,{type:"user"})])),_:1},8,["value"])])),_:1}),y(i,null,{default:h((()=>[y(c,{type:"primary","html-type":"submit",size:"large",loading:e.loading,block:""},{default:h((()=>[z])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])}));I.render=U,I.__scopeId="data-v-23fdcc43";export default I;
