var e=Object.assign;import{A as t}from"./index.2b311f94.js";import{aG as a,aH as s,aI as o,aJ as n,aK as l,aL as r,aM as i,S as c,aN as d,r as u,aO as p,aP as v,aQ as f,aR as m,aS as b,t as y,aT as h,Y as g,aU as R,aV as T,a1 as C,aW as x,aX as k,aY as z,$ as w,aZ as L,a_ as E,a$ as B,b0 as S,b1 as H,b2 as M,b3 as P,k as A,U as _,A as F,a3 as W,b4 as O,b5 as j,b6 as V,b7 as G,a2 as N,c as U,b8 as D,d as I,b9 as Y,ba as K,bb as X,bc as $,bd as q,ag as J,be as Q,bf as Z,i as ee,b as te,n as ae,s as se,bg as oe,bh as ne,az as le,bi as re,bj as ie,bk as ce,ax as de,bl as ue,bm as pe,bn as ve,bo as fe,z as me,y as be,p as ye,x as he,bp as ge,bq as Re,a0 as Te,br as Ce,Z as xe,bs as ke,ad as ze,bt as we,bu as Le,bv as Ee,bw as Be,bx as Se,by as He,ae as Me,bz as Pe,bA as Ae,bB as _e,bC as Fe,bD as We,bE as Oe,V as je,aF as Ve,a5 as Ge,C as Ne,F as Ue,bF as De,bG as Ie,bH as Ye,bI as Ke,bJ as Xe,bK as $e,bL as qe,bM as Je,bN as Qe,bO as Ze,bP as et,bQ as tt,bR as at,E as st,bS as ot,af as nt,bT as lt,an as rt,bU as it,G as ct}from"./index.6cbf2987.js";import"./vendor.4d855c17.js";var dt=lt(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:()=>{},customRef:a,isProxy:s,isReactive:o,isReadonly:n,isRef:l,markRaw:r,proxyRefs:i,reactive:c,readonly:d,ref:u,shallowReactive:p,shallowReadonly:v,shallowRef:f,toRaw:m,toRef:b,toRefs:y,triggerRef:h,unref:g,camelize:R,capitalize:T,toDisplayString:C,toHandlerKey:x,BaseTransition:k,Comment:z,Fragment:w,KeepAlive:L,Static:E,Suspense:B,Teleport:S,Text:H,callWithAsyncErrorHandling:M,callWithErrorHandling:P,cloneVNode:A,computed:_,createBlock:F,createCommentVNode:W,createHydrationRenderer:O,createRenderer:j,createSlots:V,createStaticVNode:G,createTextVNode:N,createVNode:U,defineAsyncComponent:D,defineComponent:I,defineEmit:Y,defineProps:K,get devtools(){return X},getCurrentInstance:$,getTransitionRawChildren:q,h:J,handleError:Q,initCustomFormatter:Z,inject:ee,isVNode:te,mergeProps:ae,nextTick:se,onActivated:oe,onBeforeMount:ne,onBeforeUnmount:le,onBeforeUpdate:re,onDeactivated:ie,onErrorCaptured:ce,onMounted:de,onRenderTracked:ue,onRenderTriggered:pe,onUnmounted:ve,onUpdated:fe,openBlock:me,popScopeId:be,provide:ye,pushScopeId:he,queuePostFlushCb:ge,registerRuntimeCompiler:Re,renderList:Te,renderSlot:Ce,resolveComponent:xe,resolveDirective:ke,resolveDynamicComponent:ze,resolveTransitionHooks:we,setBlockTracking:Le,setDevtoolsHook:Ee,setTransitionHooks:Be,ssrContextKey:Se,ssrUtils:He,toHandlers:Me,transformVNodeArgs:Pe,useContext:Ae,useSSRContext:_e,useTransitionState:Fe,version:We,warn:Oe,watch:je,watchEffect:Ve,withCtx:Ge,withDirectives:Ne,withScopeId:Ue,Transition:De,TransitionGroup:Ie,createApp:Ye,createSSRApp:Ke,hydrate:Xe,render:$e,useCssModule:qe,useCssVars:Je,vModelCheckbox:Qe,vModelDynamic:Ze,vModelRadio:et,vModelSelect:tt,vModelText:at,vShow:st,withKeys:ot,withModifiers:nt})),ut=rt((function(e,t){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionGroup=t.Transition=t.getTransitionGroupProps=t.getTransitionProps=void 0;t.getTransitionProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return s};t.getTransitionGroupProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return s};var s=dt.Transition;t.Transition=s;var o=dt.TransitionGroup;t.TransitionGroup=o;var n=s;t.default=n}));function pt(e,{emit:t,attrs:a}){const s=u(null),o=u(null),n=u(null),l=u(null),r=u(null),i=u(null),c=u(null),d=u(null),p=u(null),v=u(null),f=u(null),m=u(null),b=u(null),y=u(null),h=u(null),g=u(null),R={x:0,y:0},T=e=>Object.assign(R,{x:e.pageX,y:e.pageY});document.documentElement.addEventListener("click",T,!0);const C=ut.getTransitionProps("fade"),x=ut.getTransitionProps("zoom",{onAfterLeave:()=>t("update:visible",!1)});let k,z,w,L,E,B=0;function S(e,t,a,s,o,l){t.onmousedown=function(r){const i=r.clientX-t.offsetLeft,c=r.clientY-t.offsetTop,d=e.offsetTop,u=e.offsetLeft,p=e.offsetWidth,v=e.offsetHeight,f=r=>{const f=r.clientX-i,m=r.clientY-c,b=document.documentElement.clientWidth-e.offsetLeft-2,y=document.documentElement.clientHeight-e.offsetTop-2;let h=a?p-f:t.offsetWidth+f,g=s?v-m:t.offsetHeight+m;return a&&(e.style.left=u+f+"px"),s&&(e.style.top=d+m+"px"),h<400&&(h=400),h>b&&(h=b),o||(n.value.style.width=h+"px"),g<140&&(g=140),g>y&&(g=y),l||(n.value.style.height=g-B-E+"px"),(a&&400==h||s&&140==g)&&(document.onmousemove=null),(a||s)&&(document.onmousemove=null),!1},m=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),!1}}const H=()=>{!function(e,t){let a=0;(t=t||e).style.cursor="move",t.onmousedown=function(t){a=t.clientX-e.offsetLeft;const s=t.clientY-e.offsetTop,o=t=>{let o=t.clientX-a,n=t.clientY-s;const l=document.documentElement.clientWidth-e.offsetWidth,r=document.documentElement.clientHeight-e.offsetHeight;return o<=0&&(o=0),n<=0&&(n=0),o>=l&&(o=l),n>=r&&(n=r),e.style.left=o+"px",e.style.top=n+"px",!1},n=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};return document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),!1},h.value.onclick=function(){const{left:t,top:a}=getComputedStyle(e),{width:s,height:o}=getComputedStyle(n.value);k=s,z=o,w=t,L=a,e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",n.value.style.width=e.style.width,n.value.style.height=parseFloat(e.style.height)-E-B+"px",this.style.display="none",g.value.style.display="block"},g.value.onclick=function(){n.value.style.height=z,n.value.style.width=k,e.style.width=e.style.height="unset",e.style.left=w,e.style.top=L,this.style.display="none",h.value.style.display="block"}}(s.value,r.value),S(s.value,v.value,!0,!0,!1,!1),S(s.value,f.value,!1,!0,!1,!1),S(s.value,m.value,!1,!1,!1,!1),S(s.value,b.value,!0,!1,!1,!1),S(s.value,i.value,!0,!1,!1,!0),S(s.value,c.value,!1,!0,!0,!1),S(s.value,d.value,!1,!1,!1,!0),S(s.value,p.value,!1,!1,!0,!1),s.value.style.left=(document.documentElement.clientWidth-s.value.offsetWidth)/2+"px",s.value.style.top=e.centered?(document.documentElement.clientHeight-s.value.offsetHeight)/2+"px":"100px";const{left:t,top:a}=s.value.getBoundingClientRect(),{x:l,y:u}=R;o.value.style.transformOrigin=`${l-t}px ${u-a}px`},M=it(H,30);return de((()=>{je((()=>e.visible),(e=>{e&&(se((()=>{var e,t;E=(null==(e=r.value)?void 0:e.offsetHeight)||0,B=(null==(t=l.value)?void 0:t.offsetHeight)||0,H()})),window.addEventListener("resize",M))}),{immediate:!0})})),le((()=>{window.removeEventListener("resize",M),document.documentElement.removeEventListener("click",T,!0)})),{dragRef:s,modalWrapRef:o,modalBody:n,modalFooter:l,titleRef:r,resizeLRef:i,resizeTRef:c,resizeRRef:d,resizeBRef:p,resizeLTRef:v,resizeTRRef:f,resizeBRRef:m,resizeLBRef:b,minRef:y,maxRef:h,revertRef:g,maskTransitionProps:C,dialogTransitionProps:x,closeModal:()=>{t("update:visible",!1)}}}var vt=I({name:"a-custom-modal",emits:["update:visible"],components:{Transition:ut.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:(e,t)=>pt(e,t)});const ft={ref:"modalRootRef",class:"ant-modal-root custom-modal"},mt={class:"ant-modal-mask"},bt={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},yt={ref:"dragRef",class:"ant-modal"},ht={class:"ant-modal-content"},gt={ref:"titleRef",class:"ant-modal-header"},Rt={class:"ant-modal-title"},Tt={class:"ant-modal-operate"},Ct={ref:"minRef",type:"button",class:"min",title:"最小化"},xt={ref:"maxRef",type:"button",class:"max",title:"最大化"},kt={ref:"revertRef",type:"button",class:"revert",title:"还原"},zt={ref:"resizeLRef",class:"resizeL"},wt={ref:"resizeTRef",class:"resizeT"},Lt={ref:"resizeRRef",class:"resizeR"},Et={ref:"resizeBRef",class:"resizeB"},Bt={ref:"resizeLTRef",class:"resizeLT"},St={ref:"resizeTRRef",class:"resizeTR"},Ht={ref:"resizeBRRef",class:"resizeBR"},Mt={ref:"resizeLBRef",class:"resizeLB"},Pt={ref:"modalBody",class:"ant-modal-body"},At=N(" ① 窗口可以拖动；"),_t=U("br",null,null,-1),Ft=N(" ② 窗口可以通过八个方向改变大小；"),Wt=U("br",null,null,-1),Ot=N(" ③ 窗口可以最小化、最大化、还原、关闭；"),jt=U("br",null,null,-1),Vt=N(" ④ 限制窗口最小宽度/高度。 "),Gt={key:0,ref:"modalFooter",class:"ant-modal-footer"},Nt=N("取 消"),Ut=N("确 认");vt.render=function(e,t,a,s,o,n){const l=xe("a-button");return e.destroyOnClose&&!e.visible?(me(),F(w,{key:0},[],64)):(me(),F(S,{key:1,to:"body"},[U("div",ft,[U(De,ae({key:"mask"},e.maskTransitionProps),{default:Ge((()=>[Ne(U("div",mt,null,512),[[st,e.visible]])])),_:1},16),U(De,ae({key:"dialog"},e.dialogTransitionProps),{default:Ge((()=>[e.visible?(me(),F("div",bt,[U("div",yt,[U("div",ht,[U("div",gt,[U("span",Rt,C(e.title),1),U("div",Tt,[U("button",Ct,null,512),U("button",xt,null,512),U("button",kt,null,512),U("button",{onClick:t[1]||(t[1]=(...t)=>e.closeModal&&e.closeModal(...t)),type:"button",class:"close",title:"关闭"})])],512),U("div",zt,null,512),U("div",wt,null,512),U("div",Lt,null,512),U("div",Et,null,512),U("div",Bt,null,512),U("div",St,null,512),U("div",Ht,null,512),U("div",Mt,null,512),U("div",Pt,[Ce(e.$slots,"default",{},(()=>[At,_t,Ft,Wt,Ot,jt,Vt]))],512),null!=e.footer?(me(),F("div",Gt,[Ce(e.$slots,"footer",{},(()=>[U("div",null,[U(l,{onClick:e.closeModal},{default:Ge((()=>[Nt])),_:1},8,["onClick"]),U(l,{onClick:e.closeModal,type:"primary",loading:e.confirmLoading},{default:Ge((()=>[Ut])),_:1},8,["onClick","loading"])])]))],512)):W("",!0)])],512)],512)):W("",!0)])),_:1},16)],512)]))};var Dt=I({name:"custom-modal",components:{[t.name]:t,[ct.name]:ct,ACustomModal:vt},setup(){const t=c({visible:!1});return e({},y(t))}});const It=Ue("data-v-06fe08b2");he("data-v-06fe08b2");const Yt=N("弹出弹窗");be();const Kt=It(((e,t,a,s,o,n)=>{const l=xe("a-alert"),r=xe("a-button"),i=xe("a-card"),c=xe("a-custom-modal");return me(),F("div",null,[U(l,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),U(i,null,{default:It((()=>[U(r,{onClick:t[1]||(t[1]=t=>e.visible=!0),type:"primary"},{default:It((()=>[Yt])),_:1})])),_:1}),U(c,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t)},null,8,["visible"])])}));Dt.render=Kt,Dt.__scopeId="data-v-06fe08b2";export default Dt;
