var e=Object.assign;import{A as t}from"./index.2b311f94.js";import{I as n}from"./icon-font.e3612b1e.js";import{c as i,n as o,I as a,d as r,c0 as l,cr as c,r as s,S as u,U as d,t as m,Z as g,z as f,A as v,af as p,a5 as h,a3 as b,b0 as y,a1 as O,x as w,y as j,F as S,a2 as k}from"./index.6cbf2987.js";import"./vendor.4d855c17.js";var z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){P(e,t,n[t])}))}return e}({},e,t.attrs);return i(a,o(n,{icon:z}),null)};x.displayName="RedoOutlined",x.inheritAttrs=!1;var C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){I(e,t,n[t])}))}return e}({},e,t.attrs);return i(a,o(n,{icon:C}),null)};U.displayName="DownloadOutlined",U.inheritAttrs=!1;var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){L(e,t,n[t])}))}return e}({},e,t.attrs);return i(a,o(n,{icon:V}),null)};E.displayName="ZoomInOutlined",E.inheritAttrs=!1;var M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){H(e,t,n[t])}))}return e}({},e,t.attrs);return i(a,o(n,{icon:M}),null)};N.displayName="ZoomOutOutlined",N.inheritAttrs=!1;var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zm196-50c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zm0-140c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}},{tag:"path",attrs:{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"}}]},name:"one-to-one",theme:"outlined"};function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){A(e,t,n[t])}))}return e}({},e,t.attrs);return i(a,o(n,{icon:_}),null)};function R(e){const t=e.lastIndexOf("/")+1;let n=e.substring(t);return n=decodeURI(n.split("?")[0]),n}D.displayName="OneToOneOutlined",D.inheritAttrs=!1;var B=r({name:"preview-modal",emits:["update:visible"],components:{ZoomInOutlined:E,ZoomOutOutlined:N,RedoOutlined:x,DownloadOutlined:U,CloseCircleOutlined:l,OneToOneOutlined:D,[c.name]:c},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"image"},url:{type:String,default:""}},setup(t,{emit:n}){const i=s(null);let o;const a=u({timer:null,loading:!1,rotateDeg:0,imgScale:1,scaleCV:.07,initWidth:0,initHeight:0,contentStyle:{width:"60vw",height:"60vh"},imgStyle:{width:"",height:"",transform:"rotate(0)"}}),r=d({get:()=>t.visible,set:e=>n("update:visible",e)}),l=(e="scale")=>{a.imgStyle.width=a.initWidth*a.imgScale+"px",a.imgStyle.height=a.initHeight*a.imgScale+"px","init"===e?(a.imgStyle.maxWidth="",a.imgStyle.maxHeight=""):(a.imgStyle.maxWidth="none!important",a.imgStyle.maxHeight="none!important"),clearTimeout(o),o=setTimeout((()=>i.value.classList.remove("active")),1400),i.value.classList.add("active"),a.contentStyle={}};return e(e({},m(a)),{imgScaleMask:i,isVisible:r,rotateImg:()=>{a.rotateDeg-=90,a.imgStyle.transform=`rotate(${a.rotateDeg}deg)`},saveImg:e=>{!function({url:e,target:t="_blank",fileName:n}){const i=new URL(e).host==location.host;new Promise(((o,a)=>{if(i){const i=document.createElement("a");if(i.href=e,i.target=t,void 0!==i.download&&(i.download=n||R(e)),document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),i.dispatchEvent(e),o(!0)}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,t),o(!0)}{const t=document.createElement("canvas"),n=document.createElement("img");n.setAttribute("crossOrigin","Anonymous"),n.src=e,n.onload=i=>{t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0,n.width,n.height),t.toBlob((t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=R(e),n.click(),URL.revokeObjectURL(n.href),o(!0)}),"image/jpeg")},n.onerror=e=>a(e)}}))}({url:e})},zoomInImg:()=>{a.imgScale+=a.scaleCV,l()},zoomOutImg:()=>{a.imgScale-=a.scaleCV,l()},handZoom:l,imgLoaded:e=>{var t;if(null==(t=e.currentTarget)?void 0:t.complete){const{width:t,height:n}=getComputedStyle(e.currentTarget);a.imgStyle.width=t,a.imgStyle.height=n,a.initWidth=parseFloat(t),a.initHeight=parseFloat(n)}},resetImg:()=>{a.imgScale=1,l()}})}});const T={key:0,class:"toolbar"};B.render=function(e,t,n,o,a,r){const l=g("close-circle-outlined"),c=g("a-spin"),s=g("zoom-in-outlined"),u=g("zoom-out-outlined"),d=g("one-to-one-outlined"),m=g("redo-outlined"),w=g("download-outlined");return f(),v(y,{to:"body"},[e.isVisible?(f(),v("div",{key:0,onClick:t[6]||(t[6]=p((t=>e.isVisible=!1),["self"])),class:"preview-modal"},[i(l,{onClick:t[1]||(t[1]=t=>e.isVisible=!1),class:"close-icon"}),i("div",{class:"preview-content",style:e.contentStyle},[i(c,{spinning:e.loading},{default:h((()=>["image"===e.type?(f(),v("img",{key:0,onLoad:t[2]||(t[2]=p(((...t)=>e.imgLoaded&&e.imgLoaded(...t)),["stop"])),ref:"img",style:e.imgStyle,src:e.url,alt:""},null,44,["src"])):b("",!0),"video"===e.type?(f(),v("video",{key:1,ref:"video",onCanplay:t[3]||(t[3]=t=>e.loading=!1),onLoadstart:t[4]||(t[4]=t=>e.loading=!0),src:e.url,controls:"",autoplay:""},null,40,["src"])):b("",!0),i("div",{ref:"imgScaleMask",class:"img-scale-mask"},O(~~(100*e.imgScale)+"%"),513)])),_:1},8,["spinning"])],4),"image"===e.type?(f(),v("div",T,[i(s,{onClick:e.zoomInImg,title:"放大"},null,8,["onClick"]),i(u,{onClick:e.zoomOutImg,title:"缩放"},null,8,["onClick"]),i(d,{onClick:e.resetImg,title:"原始比例"},null,8,["onClick"]),i(m,{onClick:e.rotateImg,title:"旋转"},null,8,["onClick"]),i(w,{onClick:t[5]||(t[5]=t=>e.saveImg(e.url)),title:"下载"})])):b("",!0)])):b("",!0)])};var W=r({name:"custom-modal",components:{[t.name]:t,IconFont:n,PreviewModal:B},setup(){const t=u({scriptUrl:"",iconName:"",visible:!1,imageUrl:""});return e(e({},m(t)),{showPreview:e=>{t.imageUrl=e.target.currentSrc,t.visible=!0}})}});const Z=S("data-v-1acd5240");w("data-v-1acd5240");const F=k(" 示意图："),q=k(" (例如：//at.alicdn.com/t/font_1166867_7zdsgx6x88l.js) "),$=k(" （例如：icon-huanfu1、icon-zhutipifu、icon-xinwendongtai1） "),G={key:1};j();const J=Z(((e,t,n,o,a,r)=>{const l=g("a-alert"),c=g("preview-modal"),s=g("a-input"),u=g("a-form-item"),d=g("icon-font"),m=g("a-form"),p=g("a-card");return f(),v("div",null,[i(l,{message:"自定义图标",description:"使用阿里图标库，可以有效减小项目的体积，支持离线本地图标和在线图标",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),i(p,null,{default:Z((()=>[F,i("img",{onClick:t[1]||(t[1]=(...t)=>e.showPreview&&e.showPreview(...t)),class:"image-demo",src:"http://ww1.sinaimg.cn/large/005IOlAWgy1gl8bm4ot9dj314r0opabq.jpg"}),e.visible?(f(),v(c,{key:0,type:"image",visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t),url:e.imageUrl},null,8,["visible","url"])):b("",!0),i(m,null,{default:Z((()=>[i(u,{label:"阿里图标路径"},{default:Z((()=>[i(s,{value:e.scriptUrl,"onUpdate:value":t[3]||(t[3]=t=>e.scriptUrl=t),style:{width:"400px"},placeholder:"请输入你的阿里巴巴矢量图标库项目图标的路径"},null,8,["value"]),q])),_:1}),i(u,{label:"图标名字"},{default:Z((()=>[i(s,{value:e.iconName,"onUpdate:value":t[4]||(t[4]=t=>e.iconName=t),placeholder:"请输入图标的名字",style:{width:"200px"}},null,8,["value"]),$])),_:1}),i(u,{label:"效果"},{default:Z((()=>[e.scriptUrl&&e.iconName?(f(),v(d,{key:0,"script-url":e.scriptUrl,type:e.iconName,size:"30"},null,8,["script-url","type"])):(f(),v("span",G,"可以复制示例的地址和图标查看效果"))])),_:1})])),_:1})])),_:1})])}));W.render=J,W.__scopeId="data-v-1acd5240";export default W;
