var e=Object.assign;import{A as t}from"./index.97132559.js";import{aF as a,aG as s,aH as o,aI as n,aJ as l,aK as r,aL as i,S as c,aM as d,r as u,aN as p,aO as v,aP as f,aQ as m,aR as b,t as y,aS as h,Y as g,aT as R,aU as T,a1 as C,aV as x,aW as k,aX as w,$ as z,aY as E,aZ as L,a_ as B,a$ as S,b0 as H,b1 as M,b2 as P,k as A,U as _,A as F,a3 as W,b3 as O,b4 as j,b5 as V,b6 as G,a2 as N,c as D,b7 as I,d as U,b8 as Y,b9 as K,ba as X,bb as $,bc as q,ag as J,bd as Q,be as Z,i as ee,f as te,n as ae,s as se,bf as oe,bg as ne,ay as le,bh as re,bi as ie,bj as ce,aw as de,bk as ue,bl as pe,bm as ve,bn as fe,z as me,y as be,p as ye,x as he,bo as ge,bp as Re,a0 as Te,bq as Ce,Z as xe,br as ke,ad as we,bs as ze,bt as Ee,bu as Le,bv as Be,bw as Se,bx as He,ae as Me,by as Pe,bz as Ae,bA as _e,bB as Fe,bC as We,bD as Oe,V as je,aE as Ve,a5 as Ge,C as Ne,F as De,bE as Ie,bF as Ue,bG as Ye,bH as Ke,bI as Xe,bJ as $e,bK as qe,bL as Je,bM as Qe,bN as Ze,bO as et,bP as tt,bQ as at,E as st,bR as ot,af as nt,bS as lt,an as rt,bT as it,G as ct}from"./index.a849d25d.js";import"./vendor.23df63bb.js";var dt=lt(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:()=>{},customRef:a,isProxy:s,isReactive:o,isReadonly:n,isRef:l,markRaw:r,proxyRefs:i,reactive:c,readonly:d,ref:u,shallowReactive:p,shallowReadonly:v,shallowRef:f,toRaw:m,toRef:b,toRefs:y,triggerRef:h,unref:g,camelize:R,capitalize:T,toDisplayString:C,toHandlerKey:x,BaseTransition:k,Comment:w,Fragment:z,KeepAlive:E,Static:L,Suspense:B,Teleport:S,Text:H,callWithAsyncErrorHandling:M,callWithErrorHandling:P,cloneVNode:A,computed:_,createBlock:F,createCommentVNode:W,createHydrationRenderer:O,createRenderer:j,createSlots:V,createStaticVNode:G,createTextVNode:N,createVNode:D,defineAsyncComponent:I,defineComponent:U,defineEmit:Y,defineProps:K,get devtools(){return X},getCurrentInstance:$,getTransitionRawChildren:q,h:J,handleError:Q,initCustomFormatter:Z,inject:ee,isVNode:te,mergeProps:ae,nextTick:se,onActivated:oe,onBeforeMount:ne,onBeforeUnmount:le,onBeforeUpdate:re,onDeactivated:ie,onErrorCaptured:ce,onMounted:de,onRenderTracked:ue,onRenderTriggered:pe,onUnmounted:ve,onUpdated:fe,openBlock:me,popScopeId:be,provide:ye,pushScopeId:he,queuePostFlushCb:ge,registerRuntimeCompiler:Re,renderList:Te,renderSlot:Ce,resolveComponent:xe,resolveDirective:ke,resolveDynamicComponent:we,resolveTransitionHooks:ze,setBlockTracking:Ee,setDevtoolsHook:Le,setTransitionHooks:Be,ssrContextKey:Se,ssrUtils:He,toHandlers:Me,transformVNodeArgs:Pe,useContext:Ae,useSSRContext:_e,useTransitionState:Fe,version:We,warn:Oe,watch:je,watchEffect:Ve,withCtx:Ge,withDirectives:Ne,withScopeId:De,Transition:Ie,TransitionGroup:Ue,createApp:Ye,createSSRApp:Ke,hydrate:Xe,render:$e,useCssModule:qe,useCssVars:Je,vModelCheckbox:Qe,vModelDynamic:Ze,vModelRadio:et,vModelSelect:tt,vModelText:at,vShow:st,withKeys:ot,withModifiers:nt})),ut=rt((function(e,t){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionGroup=t.Transition=t.getTransitionGroupProps=t.getTransitionProps=void 0;t.getTransitionProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return s};t.getTransitionGroupProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return s};var s=dt.Transition;t.Transition=s;var o=dt.TransitionGroup;t.TransitionGroup=o;var n=s;t.default=n}));function pt(e,{emit:t,attrs:a}){const s=u(null),o=u(null),n=u(null),l=u(null),r=u(null),i=u(null),c=u(null),d=u(null),p=u(null),v=u(null),f=u(null),m=u(null),b=u(null),y=u(null),h=u(null),g=u(null),R={x:0,y:0},T=e=>Object.assign(R,{x:e.pageX,y:e.pageY});document.documentElement.addEventListener("click",T,!0);const C=ut.getTransitionProps("fade"),x=ut.getTransitionProps("zoom",{onAfterLeave:()=>t("update:visible",!1)});let k,w,z,E,L,B=0;function S(e,t,a,s,o,l){t.onmousedown=function(r){const i=r.clientX-t.offsetLeft,c=r.clientY-t.offsetTop,d=e.offsetTop,u=e.offsetLeft,p=e.offsetWidth,v=e.offsetHeight,f=r=>{const f=r.clientX-i,m=r.clientY-c,b=document.documentElement.clientWidth-e.offsetLeft-2,y=document.documentElement.clientHeight-e.offsetTop-2;let h=a?p-f:t.offsetWidth+f,g=s?v-m:t.offsetHeight+m;return a&&(e.style.left=u+f+"px"),s&&(e.style.top=d+m+"px"),h<400&&(h=400),h>b&&(h=b),o||(n.value.style.width=h+"px"),g<140&&(g=140),g>y&&(g=y),l||(n.value.style.height=g-B-L+"px"),(a&&400==h||s&&140==g)&&(document.onmousemove=null),(a||s)&&(document.onmousemove=null),!1},m=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),!1}}const H=()=>{!function(e,t){let a=0;(t=t||e).style.cursor="move",t.onmousedown=function(t){a=t.clientX-e.offsetLeft;const s=t.clientY-e.offsetTop,o=t=>{let o=t.clientX-a,n=t.clientY-s;const l=document.documentElement.clientWidth-e.offsetWidth,r=document.documentElement.clientHeight-e.offsetHeight;return o<=0&&(o=0),n<=0&&(n=0),o>=l&&(o=l),n>=r&&(n=r),e.style.left=o+"px",e.style.top=n+"px",!1},n=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};return document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),!1},h.value.onclick=function(){const{left:t,top:a}=getComputedStyle(e),{width:s,height:o}=getComputedStyle(n.value);k=s,w=o,z=t,E=a,e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",n.value.style.width=e.style.width,n.value.style.height=parseFloat(e.style.height)-L-B+"px",this.style.display="none",g.value.style.display="block"},g.value.onclick=function(){n.value.style.height=w,n.value.style.width=k,e.style.width=e.style.height="unset",e.style.left=z,e.style.top=E,this.style.display="none",h.value.style.display="block"}}(s.value,r.value),S(s.value,v.value,!0,!0,!1,!1),S(s.value,f.value,!1,!0,!1,!1),S(s.value,m.value,!1,!1,!1,!1),S(s.value,b.value,!0,!1,!1,!1),S(s.value,i.value,!0,!1,!1,!0),S(s.value,c.value,!1,!0,!0,!1),S(s.value,d.value,!1,!1,!1,!0),S(s.value,p.value,!1,!1,!0,!1),s.value.style.left=(document.documentElement.clientWidth-s.value.offsetWidth)/2+"px",s.value.style.top=e.centered?(document.documentElement.clientHeight-s.value.offsetHeight)/2+"px":"100px";const{left:t,top:a}=s.value.getBoundingClientRect(),{x:l,y:u}=R;o.value.style.transformOrigin=`${l-t}px ${u-a}px`},M=it(H,30);return de((()=>{je((()=>e.visible),(e=>{e&&(se((()=>{var e,t;L=(null==(e=r.value)?void 0:e.offsetHeight)||0,B=(null==(t=l.value)?void 0:t.offsetHeight)||0,H()})),window.addEventListener("resize",M))}),{immediate:!0})})),le((()=>{window.removeEventListener("resize",M),document.documentElement.removeEventListener("click",T,!0)})),{dragRef:s,modalWrapRef:o,modalBody:n,modalFooter:l,titleRef:r,resizeLRef:i,resizeTRef:c,resizeRRef:d,resizeBRef:p,resizeLTRef:v,resizeTRRef:f,resizeBRRef:m,resizeLBRef:b,minRef:y,maxRef:h,revertRef:g,maskTransitionProps:C,dialogTransitionProps:x,closeModal:()=>{t("update:visible",!1)}}}var vt=U({name:"a-custom-modal",emits:["update:visible"],components:{Transition:ut.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:(e,t)=>pt(e,t)});const ft={ref:"modalRootRef",class:"ant-modal-root custom-modal"},mt={class:"ant-modal-mask"},bt={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},yt={ref:"dragRef",class:"ant-modal"},ht={class:"ant-modal-content"},gt={ref:"titleRef",class:"ant-modal-header"},Rt={class:"ant-modal-title"},Tt={class:"ant-modal-operate"},Ct={ref:"minRef",type:"button",class:"min",title:"最小化"},xt={ref:"maxRef",type:"button",class:"max",title:"最大化"},kt={ref:"revertRef",type:"button",class:"revert",title:"还原"},wt={ref:"resizeLRef",class:"resizeL"},zt={ref:"resizeTRef",class:"resizeT"},Et={ref:"resizeRRef",class:"resizeR"},Lt={ref:"resizeBRef",class:"resizeB"},Bt={ref:"resizeLTRef",class:"resizeLT"},St={ref:"resizeTRRef",class:"resizeTR"},Ht={ref:"resizeBRRef",class:"resizeBR"},Mt={ref:"resizeLBRef",class:"resizeLB"},Pt={ref:"modalBody",class:"ant-modal-body"},At=N(" ① 窗口可以拖动；"),_t=D("br",null,null,-1),Ft=N(" ② 窗口可以通过八个方向改变大小；"),Wt=D("br",null,null,-1),Ot=N(" ③ 窗口可以最小化、最大化、还原、关闭；"),jt=D("br",null,null,-1),Vt=N(" ④ 限制窗口最小宽度/高度。 "),Gt={key:0,ref:"modalFooter",class:"ant-modal-footer"},Nt=N("取 消"),Dt=N("确 认");vt.render=function(e,t,a,s,o,n){const l=xe("a-button");return e.destroyOnClose&&!e.visible?(me(),F(z,{key:0},[],64)):(me(),F(S,{key:1,to:"body"},[D("div",ft,[D(Ie,ae({key:"mask"},e.maskTransitionProps),{default:Ge((()=>[Ne(D("div",mt,null,512),[[st,e.visible]])])),_:1},16),D(Ie,ae({key:"dialog"},e.dialogTransitionProps),{default:Ge((()=>[e.visible?(me(),F("div",bt,[D("div",yt,[D("div",ht,[D("div",gt,[D("span",Rt,C(e.title),1),D("div",Tt,[D("button",Ct,null,512),D("button",xt,null,512),D("button",kt,null,512),D("button",{onClick:t[1]||(t[1]=(...t)=>e.closeModal&&e.closeModal(...t)),type:"button",class:"close",title:"关闭"})])],512),D("div",wt,null,512),D("div",zt,null,512),D("div",Et,null,512),D("div",Lt,null,512),D("div",Bt,null,512),D("div",St,null,512),D("div",Ht,null,512),D("div",Mt,null,512),D("div",Pt,[Ce(e.$slots,"default",{},(()=>[At,_t,Ft,Wt,Ot,jt,Vt]))],512),null!=e.footer?(me(),F("div",Gt,[Ce(e.$slots,"footer",{},(()=>[D("div",null,[D(l,{onClick:e.closeModal},{default:Ge((()=>[Nt])),_:1},8,["onClick"]),D(l,{onClick:e.closeModal,type:"primary",loading:e.confirmLoading},{default:Ge((()=>[Dt])),_:1},8,["onClick","loading"])])]))],512)):W("",!0)])],512)],512)):W("",!0)])),_:1},16)],512)]))};var It=U({name:"custom-modal",components:{[t.name]:t,[ct.name]:ct,ACustomModal:vt},setup(){const t=c({visible:!1});return e({},y(t))}});const Ut=De("data-v-06fe08b2");he("data-v-06fe08b2");const Yt=N("弹出弹窗");be();const Kt=Ut(((e,t,a,s,o,n)=>{const l=xe("a-alert"),r=xe("a-button"),i=xe("a-card"),c=xe("a-custom-modal");return me(),F("div",null,[D(l,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),D(i,null,{default:Ut((()=>[D(r,{onClick:t[1]||(t[1]=t=>e.visible=!0),type:"primary"},{default:Ut((()=>[Yt])),_:1})])),_:1}),D(c,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t)},null,8,["visible"])])}));It.render=Kt,It.__scopeId="data-v-06fe08b2";export default It;
