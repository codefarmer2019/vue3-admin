var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=(a,o,n)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[o]=n,l=(e,l)=>{for(var s in l||(l={}))a.call(l,s)&&r(e,s,l[s]);if(o)for(var s of o(l))n.call(l,s)&&r(e,s,l[s]);return e};import{d as s,al as t,aa as i,am as d,S as u,K as m,J as c,t as p,X as f,ad as g,W as b,x as v,y,Z as w,z as I,A as h,c as _,F as O,a4 as j}from"./index.c02ba84c.js";import{_ as S}from"./logo.d49f8590.js";import"./vendor.183d7d35.js";var x=s({name:"login",components:{UserOutlined:t,LockOutlined:i,SvgIcon:d},setup(){const e=u({loading:!1,formInline:{username:"",password:""}}),a=b(),o=m(),n=c();return l(l({},p(e)),{handleSubmit:async()=>{var r;const{username:l,password:s}=e.formInline;if(""==l.trim()||""==s.trim())return f.warning("用户名或密码不能为空！");f.loading("登录中...",0),e.loading=!0;const t={username:l,password:s},{code:i,result:d,message:u}=await a.dispatch(g.Login,t).finally((()=>{e.loading=!1,f.destroy()}));if(0==i){const e=decodeURIComponent((null==(r=n.query)?void 0:r.redirect)||"/");f.success("登录成功！"),o.replace(e).then((e=>{"login"==n.name&&o.replace("/")}))}else f.info(u||"登录失败")}})}});const z=O();v("data-v-66260cbe");const U={class:"login-box"},k=_("div",{class:"login-logo"},[_("img",{src:S,alt:""}),_("h1",null,"Antd Admin")],-1),A=j(" 登录 ");y();const P=z(((e,a,o,n,r,l)=>{const s=w("user-outlined"),t=w("a-input"),i=w("a-form-item"),d=w("lock-outlined"),u=w("a-button"),m=w("a-form");return I(),h("div",U,[k,_(m,{layout:"horizontal",model:e.formInline,onSubmit:e.handleSubmit},{default:z((()=>[_(i,null,{default:z((()=>[_(t,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),size:"large",placeholder:"admin"},{prefix:z((()=>[_(s,{type:"user"})])),_:1},8,["value"])])),_:1}),_(i,null,{default:z((()=>[_(t,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:z((()=>[_(d,{type:"user"})])),_:1},8,["value"])])),_:1}),_(i,null,{default:z((()=>[_(u,{type:"primary","html-type":"submit",size:"large",loading:e.loading,block:""},{default:z((()=>[A])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])}));x.render=P,x.__scopeId="data-v-66260cbe";export default x;
