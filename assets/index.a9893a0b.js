var e=Object.assign;import{d as a,al as n,a8 as s,am as o,S as l,K as t,J as r,t as i,X as d,ab as u,W as m,x as c,y as p,Z as f,z as g,A as v,c as y,af as b,F as w,a2 as I}from"./index.6cbf2987.js";import"./vendor.4d855c17.js";var h=a({name:"login",components:{UserOutlined:n,LockOutlined:s,SvgIcon:o},setup(){const a=l({loading:!1,formInline:{username:"",password:""}}),n=m(),s=t(),o=r();return e(e({},i(a)),{handleSubmit:async()=>{var e;const{username:l,password:t}=a.formInline;if(""==l.trim()||""==t.trim())return d.warning("用户名或密码不能为空！");d.loading("登录中...",0),a.loading=!0;const r={username:l,password:t},{code:i,result:m,message:c}=await n.dispatch(u.Login,r).finally((()=>{a.loading=!1,d.destroy()}));if(0==i){const a=decodeURIComponent((null==(e=o.query)?void 0:e.redirect)||"/");d.success("登录成功！"),s.replace(a).then((e=>{"login"==o.name&&s.replace("/")}))}else d.info(c||"登录失败")}})}});const _=w("data-v-4d54153e");c("data-v-4d54153e");const x={class:"login-box"},S={class:"login-logo"},z=y("h1",null,"Antd Admin",-1),U=I(" 登录 ");p();const j=_(((e,a,n,s,o,l)=>{const t=f("svg-icon"),r=f("user-outlined"),i=f("a-input"),d=f("a-form-item"),u=f("lock-outlined"),m=f("a-button"),c=f("a-form");return g(),v("div",x,[y("div",S,[y(t,{"icon-class":"logo"}),z]),y(c,{layout:"horizontal",model:e.formInline,onSubmit:[e.handleSubmit,a[3]||(a[3]=b((()=>{}),["prevent"]))]},{default:_((()=>[y(d,null,{default:_((()=>[y(i,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),size:"large",placeholder:"admin"},{prefix:_((()=>[y(r,{type:"user"})])),_:1},8,["value"])])),_:1}),y(d,null,{default:_((()=>[y(i,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:_((()=>[y(u,{type:"user"})])),_:1},8,["value"])])),_:1}),y(d,null,{default:_((()=>[y(m,{type:"primary","html-type":"submit",size:"large",loading:e.loading,block:""},{default:_((()=>[U])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","onSubmit"])])}));h.render=j,h.__scopeId="data-v-4d54153e";export default h;
