var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,u=(e,a)=>{for(var t in a||(a={}))n.call(a,t)&&s(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&s(e,t,a[t]);return e},i=(e,l)=>a(e,t(l));import{p as c,b as d,c as r,e as m,w as p,v as f,f as y,h,ac as b,ad as v,a8 as g,ae as k,af as _,ag as O,ah as C,ai as P,aj as w,ak as I,d as K,X as L,V as x,l as F,m as T,al as j,am as M,k as S,u as E,an as V,A,Z as R,F as q,g as D,t as U,K as B,C as H,i as G,a7 as N,a2 as z,B as J,Y as W,ao as $,ap as X,aq as Y,ar as Z,as as Q,at as ee,au as ae,av as te,S as le,aw as ne,ax as oe,N as se,ay as ue,az as ie,aA as ce,aB as de,aC as re,aD as me,M as pe,aE as fe,aF as ye,aG as he,r as be,E as ve}from"./vendor.c1c0e565.js";import{_ as ge}from"./logo.d49f8590.js";import{u as ke,s as _e,T as Oe,r as Ce}from"./index.73ccbe68.js";import{I as Pe}from"./icon-font.b5e4edb5.js";const we={name:"Index",props:{collapsed:{type:Boolean}}},Ie=h();c("data-v-ae0e8c2c");const Ke={class:"logo"},Le=y("img",{src:ge,alt:""},null,-1),xe={class:"title"};d();const Fe=Ie(((e,a,t,l,n,o)=>(r(),m("div",Ke,[Le,p(y("h2",xe,"One Piece",512),[[f,!t.collapsed]])]))));we.render=Fe,we.__scopeId="data-v-ae0e8c2c";var Te={[b.name]:b,[b.TabPane.name]:b.TabPane,[v.name]:v,[g.name]:g,MinusOutlined:k,DownOutlined:_,ReloadOutlined:O,CloseOutlined:C,VerticalRightOutlined:P,VerticalLeftOutlined:w,ColumnWidthOutlined:I},je=K({name:"TabsView",components:u({},Te),setup(){const e=L(),a=x(),t=ke(),l=e=>{const{fullPath:a,hash:t,meta:l,name:n,params:o,path:s,query:u}=e;return{fullPath:a,hash:t,meta:l,name:n,params:o,path:s,query:u}};let n=[];try{const a=_e.get(Oe);n=a?JSON.parse(a):[l(e)]}catch(p){n=[l(e)]}t.commit("tabsView/initTabs",n);const o=F({activeKey:e.fullPath}),s=()=>{var l,n;if(e.meta.keepAlive){const o=null==(n=null==(l=a.currentRoute.value.matched.find((a=>a.name==e.name)))?void 0:l.components)?void 0:n.default.name;o&&(t.state.asyncRoute.keepAliveComponents=t.state.asyncRoute.keepAliveComponents.filter((e=>e!=o)))}},c=T((()=>t.state.tabsView.tabsList));j((()=>e.fullPath),(()=>{const e=[];c.value.forEach((t=>{a.hasRoute(t.name)||e.push(t.name)})),e.length&&t.commit("tabsView/initTabs",c.value.filter((a=>!e.includes(a.name))))}));const d=["Redirect","login"];j((()=>e.fullPath),((a,n)=>{d.includes(e.name)||(o.activeKey=a,t.commit("tabsView/addTabs",l(e)))}),{immediate:!0}),window.addEventListener("beforeunload",(()=>{_e.set(Oe,JSON.stringify(c.value))}));const r=e=>{if(1===c.value.length)return E.warning("这已经是最后一页，不能再关闭了！");if(s(),t.commit("tabsView/closeCurrentTab",e),o.activeKey===e.fullPath){const e=c.value[Math.max(0,c.value.length-1)];o.activeKey=e.fullPath,a.push(e)}},m=()=>{s(),a.push({path:"/redirect"+V(e).fullPath})};M("reloadPage",m);return i(u({},S(o)),{route:e,tabsList:c,changePage:e=>{o.activeKey=e,a.push(e)},editTabItem:(e,a)=>{"remove"==a&&r(c.value.find((a=>a.fullPath==e)))},removeTab:r,closeLeft:(e,l)=>{t.commit("tabsView/closeLeftTabs",e),o.activeKey=e.fullPath,a.replace(e.fullPath)},closeRight:(e,l)=>{t.commit("tabsView/closeRightTabs",e),o.activeKey=e.fullPath,a.replace(e.fullPath)},closeOther:e=>{t.commit("tabsView/closeOtherTabs",e),o.activeKey=e.fullPath,a.replace(e.fullPath)},closeAll:()=>{localStorage.removeItem("routes"),t.commit("tabsView/closeAllTabs"),a.replace("/")},reloadPage:m})}});const Me=h();c("data-v-4b35bf8e");const Se={class:"tabs-view"},Ee={style:{display:"inline-block"}},Ve=G(" 刷新 "),Ae=G(" 关闭 "),Re=G(" 关闭左侧 "),qe=G(" 关闭右侧 "),De=G(" 关闭其他 "),Ue=G(" 关闭全部 "),Be=G(" 刷新 "),He=G(" 关闭 "),Ge=G(" 关闭其他 "),Ne=G(" 关闭全部 "),ze={class:"tabs-view-content"};d();const Je=Me(((e,a,t,l,n,o)=>{const s=A("reload-outlined"),u=A("a-menu-item"),i=A("close-outlined"),c=A("a-menu-divider"),d=A("vertical-right-outlined"),p=A("vertical-left-outlined"),f=A("column-width-outlined"),h=A("minus-outlined"),b=A("a-menu"),v=A("a-dropdown"),g=A("a-tab-pane"),k=A("down-outlined"),_=A("a-tabs"),O=A("router-view"),C=A("a-card");return r(),m("div",Se,[y(_,{activeKey:e.activeKey,"onUpdate:activeKey":a[4]||(a[4]=a=>e.activeKey=a),"hide-add":"",type:"editable-card",class:"tabs",onChange:e.changePage,onEdit:e.editTabItem},{tabBarExtraContent:Me((()=>[y(v,{trigger:["click"]},{overlay:Me((()=>[y(b,{style:{"user-select":"none"}},{default:Me((()=>[y(u,{key:"1",disabled:e.activeKey!==e.route.fullPath,onClick:e.reloadPage},{default:Me((()=>[y(s),Be])),_:1},8,["disabled","onClick"]),y(u,{key:"2",onClick:a[2]||(a[2]=a=>e.removeTab(e.route))},{default:Me((()=>[y(i),He])),_:1}),y(c),y(u,{key:"5",onClick:a[3]||(a[3]=a=>e.closeOther(e.route))},{default:Me((()=>[y(f),Ge])),_:1}),y(u,{key:"6",onClick:e.closeAll},{default:Me((()=>[y(h),Ne])),_:1},8,["onClick"])])),_:1})])),default:Me((()=>[y("a",{class:"ant-dropdown-link",onClick:a[1]||(a[1]=R((()=>{}),["prevent"]))},[y(k,{style:{fontSize:"20px"}})])])),_:1})])),default:Me((()=>[(r(!0),m(q,null,D(e.tabsList,((a,t)=>(r(),m(g,{key:a.fullPath},{tab:Me((()=>[y(v,{trigger:["contextmenu"]},{overlay:Me((()=>[y(b,{style:{"user-select":"none"}},{default:Me((()=>[y(u,{key:"1",disabled:e.activeKey!==a.fullPath,onClick:e.reloadPage},{default:Me((()=>[y(s),Ve])),_:2},1032,["disabled","onClick"]),y(u,{key:"2",onClick:t=>e.removeTab(a)},{default:Me((()=>[y(i),Ae])),_:2},1032,["onClick"]),y(c),y(u,{key:"3",onClick:l=>e.closeLeft(a,t)},{default:Me((()=>[y(d),Re])),_:2},1032,["onClick"]),y(u,{key:"4",onClick:l=>e.closeRight(a,t)},{default:Me((()=>[y(p),qe])),_:2},1032,["onClick"]),y(c),y(u,{key:"5",onClick:t=>e.closeOther(a)},{default:Me((()=>[y(f),De])),_:2},1032,["onClick"]),y(u,{key:"6",onClick:e.closeAll},{default:Me((()=>[y(h),Ue])),_:1},8,["onClick"])])),_:2},1024)])),default:Me((()=>[y("div",Ee,U(a.meta.title),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["activeKey","onChange","onEdit"]),y("div",ze,[y(C,null,{default:Me((()=>[y(O,null,{default:Me((({Component:e})=>[(r(),m(B,null,[(r(),m(H(e)))],1024))])),_:1})])),_:1})])])}));je.render=Je,je.__scopeId="data-v-4b35bf8e";var We=K({name:"MenuItem",components:{IconFont:Pe,"a-sub-menu":N.SubMenu,"a-menu-item":N.Item},props:{menuInfo:{type:Object,default:()=>({})}}});We.render=function(e,a,t,l,n,o){var s;const u=A("icon-font"),i=A("a-menu-item"),c=A("menu-item",!0),d=A("a-sub-menu");return e.menuInfo.meta.hidden?W("",!0):(r(),m(q,{key:0},[(null==(s=e.menuInfo.children)?void 0:s.length)?(r(),m(d,z({key:0,key:e.menuInfo.name},e.$attrs),{title:J((()=>[y("span",null,[y(u,{style:{color:"aliceblue"},type:e.menuInfo.meta.icon},null,8,["type"]),y("span",null,U(e.menuInfo.meta.title),1)])])),default:J((()=>[(r(!0),m(q,null,D(e.menuInfo.children,(e=>(r(),m(q,{key:e.name},[e.children?(r(),m(c,{key:e.name,"menu-info":e},null,8,["menu-info"])):(r(),m(i,{key:e.name},{default:J((()=>[y(u,{style:{color:"aliceblue"},type:e.meta.icon},null,8,["type"]),y("span",null,U(e.meta.title),1)])),_:2},1024))],64)))),128))])),_:1},16)):(r(),m(i,{key:e.menuInfo.name},{default:J((()=>[y(u,{style:{color:"aliceblue"},type:e.menuInfo.meta.icon},null,8,["type"]),y("span",null,U(e.menuInfo.meta.title),1)])),_:1}))],64))};var $e=K({name:"Menu",components:{MenuItem:We,"a-sub-menu":N.SubMenu,"a-menu-item":N.Item,MenuFoldOutlined:$,MenuUnfoldOutlined:X,PieChartOutlined:Y,MailOutlined:Z,DesktopOutlined:Q,InboxOutlined:ee,AppstoreOutlined:ae},props:{collapsed:{type:Boolean}},setup(e){const a=L(),t=x(),l=ke(),n=()=>{var e;return[null==(e=a.matched[1])?void 0:e.name]},o=F({openKeys:n(),selectedKeys:[a.name]}),s=T((()=>{var e;return null!=(e=l.getters["asyncRoute/menus"])?e:Ce.find((e=>"Layout"==e.name)).children}));j((()=>e.collapsed),(e=>{o.openKeys=e?[]:n(),o.selectedKeys=[a.name]})),j((()=>a.fullPath),(()=>{"login"==a.name||e.collapsed||(o.openKeys=n(),o.selectedKeys=[a.name])}));return i(u({},S(o)),{menus:s,clickMenuItem:({item:e,key:a,keyPath:l})=>{/http(s)?:/.test(a)?window.open(a):t.push({name:a})}})}});$e.render=function(e,a,t,l,n,o){const s=A("menu-item"),u=A("a-menu");return r(),m(u,{"open-keys":e.openKeys,"onUpdate:open-keys":a[1]||(a[1]=a=>e.openKeys=a),"selected-keys":e.selectedKeys,"onUpdate:selected-keys":a[2]||(a[2]=a=>e.selectedKeys=a),mode:"inline",theme:"dark","inline-collapsed":e.collapsed,onClick:e.clickMenuItem},{default:J((()=>[(r(!0),m(q,null,D(e.menus,(e=>(r(),m(s,{key:e.name,"menu-info":e},null,8,["menu-info"])))),128))])),_:1},8,["open-keys","selected-keys","inline-collapsed","onClick"])};var Xe={[te.Header.name]:te.Header,[le.name]:le,[N.name]:N,[ne.name]:ne,[N.Divider.name]:N.Divider,SettingOutlined:oe,Dropdown:v,LockOutlined:se,GithubOutlined:ue,SearchOutlined:ie,[ce.name]:ce,[ce.Item.name]:ce.Item,MenuFoldOutlined:$,MenuUnfoldOutlined:X,FullscreenOutlined:de,FullscreenExitOutlined:re,PoweroffOutlined:me},Ye=K({name:"PageHeader",components:u({},Xe),props:{collapsed:{type:Boolean}},setup(){var e;const a=ke(),t=F({username:null==(e=a.getters["user/userInfo"])?void 0:e.username,fullscreenIcon:"FullscreenOutlined"}),l=x(),n=L();document.addEventListener("fullscreenchange",(()=>t.fullscreenIcon=null!==document.fullscreenElement?"FullscreenExitOutlined":"FullscreenOutlined"));const o=[{icon:"SearchOutlined",tips:"搜索"},{icon:"GithubOutlined",tips:"github",eventObject:{click:()=>window.open("https://github.com/buqiyuan/vue3-antd")}},{icon:"SettingOutlined",tips:"网站设置"},{icon:"LockOutlined",tips:"锁屏",eventObject:{click:()=>a.commit("lockscreen/setLock",!0)}}];return i(u({},S(t)),{iconList:o,toggleFullScreen:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},doLogout:()=>{pe.confirm({title:"您确定要退出登录吗？",icon:y(fe),onOk:()=>{a.dispatch("user/logout").then((e=>{E.success("成功退出登录"),localStorage.removeItem(Oe),l.replace({name:"login",query:{redirect:n.fullPath}}).finally((()=>location.reload()))}))}})},route:n})}});const Ze=h();c("data-v-7006b6b6");const Qe={class:"left-options"},ea={class:"right-options"},aa=y("a",{href:"javascript:;"},"个人中心",-1),ta=G(" 退出登录");d();const la=Ze(((e,a,t,l,n,o)=>{const s=A("router-link"),u=A("a-menu-item"),i=A("a-menu"),c=A("a-breadcrumb-item"),d=A("a-breadcrumb"),p=A("a-tooltip"),f=A("a-avatar"),h=A("a-menu-divider"),b=A("poweroff-outlined"),v=A("Dropdown"),g=A("ALayoutHeader");return r(),m(g,{class:"layout-header"},{default:Ze((()=>[y("div",Qe,[y("span",{class:"menu-fold",onClick:a[1]||(a[1]=()=>e.$emit("update:collapsed",!e.collapsed))},[(r(),m(H(e.collapsed?"menu-unfold-outlined":"menu-fold-outlined")))]),y(d,null,{default:Ze((()=>[(r(!0),m(q,null,D(e.route.matched,(e=>(r(),m(c,{key:e.name},{overlay:Ze((()=>[e.children.length?(r(),m(i,{key:0},{default:Ze((()=>[(r(!0),m(q,null,D(e.children,(e=>(r(),m(q,null,[e.meta.hidden?W("",!0):(r(),m(u,{key:e.name},{default:Ze((()=>[y(s,{to:{name:e.name}},{default:Ze((()=>[G(U(e.meta.title),1)])),_:2},1032,["to"])])),_:2},1024))],64)))),256))])),_:2},1024)):W("",!0)])),default:Ze((()=>[y("a",null,U(e.meta.title),1)])),_:2},1024)))),128))])),_:1})]),y("div",ea,[(r(!0),m(q,null,D(e.iconList,(e=>(r(),m(p,{key:e.icon.name,placement:"bottom"},{title:Ze((()=>[y("span",null,U(e.tips),1)])),default:Ze((()=>[(r(),m(H(e.icon),ye(e.eventObject||{}),null,16))])),_:2},1024)))),128)),(r(),m(H(e.fullscreenIcon),{onClick:e.toggleFullScreen},null,8,["onClick"])),y(v,null,{overlay:Ze((()=>[y(i,null,{default:Ze((()=>[y(u,null,{default:Ze((()=>[aa])),_:1}),y(h),y(u,null,{default:Ze((()=>[y("a",{onClick:a[2]||(a[2]=R(((...a)=>e.doLogout&&e.doLogout(...a)),["prevent"]))},[y(b),ta])])),_:1})])),_:1})])),default:Ze((()=>[y(f,null,{default:Ze((()=>[G(U(e.username),1)])),_:1})])),_:1})])])),_:1})}));Ye.render=la,Ye.__scopeId="data-v-7006b6b6";var na="_page_footer_18xo3_1",oa="_page_footer_link_18xo3_7",sa="_copyright_18xo3_15";const{Footer:ua}=te;var ia=K({name:"PageFooter",components:{ALayoutFooter:ua},setup:()=>()=>y(q,null,[y(A("a-layout-footer"),{class:na},{default:()=>[y("div",{class:oa},[y("a",{href:"https://github.com/vuejs/vue-next",target:"_blank"},[G("vue 3.0")]),y("a",{href:"https://github.com/buqiyuan",target:"_blank"},[y(ue,null,null)]),y("a",{href:"https://github.com/vueComponent/ant-design-vue",target:"_blank"},[" ",G("ant-design-vue 2.0")])]),y("div",{class:sa},[G("Copyright "),y(he,null,null),G(" 2020")," ",y("a",{href:"https://buqiyuan.gitee.io",target:"_blank"},[G("buqiyuan.gitee.io")])])]})])}),ca=K({name:"Layout",components:{TabsView:je,PageHeader:Ye,AsideMenu:$e,Logo:we,PageFooter:ia,[te.name]:te,[te.Content.name]:te.Content,[te.Sider.name]:te.Sider},setup(){const e=be(!1),a=T((()=>e.value?"80px":"256px"));return{collapsed:e,testMsg:()=>{E.success(ve("span","啥子"),2)},asiderWidth:a}}});const da=h(),ra=da(((e,a,t,l,n,o)=>{const s=A("logo"),u=A("aside-menu"),i=A("a-layout-sider"),c=A("page-header"),d=A("tabs-view"),p=A("a-layout-content"),f=A("page-footer"),h=A("a-layout");return r(),m(h,{class:"layout"},{default:da((()=>[y(i,{collapsed:e.collapsed,"onUpdate:collapsed":a[1]||(a[1]=a=>e.collapsed=a),trigger:null,collapsible:"",class:"layout-sider"},{default:da((()=>[y(s,{collapsed:e.collapsed},null,8,["collapsed"]),y(u,{collapsed:e.collapsed},null,8,["collapsed"])])),_:1},8,["collapsed"]),y(h,null,{default:da((()=>[y(c,{collapsed:e.collapsed,"onUpdate:collapsed":a[2]||(a[2]=a=>e.collapsed=a)},null,8,["collapsed"]),y(p,{class:"layout-content"},{default:da((()=>[y(d)])),_:1}),y(f)])),_:1})])),_:1})}));ca.render=ra,ca.__scopeId="data-v-b01b0c40";export default ca;
