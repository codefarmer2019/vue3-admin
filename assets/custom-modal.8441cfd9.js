var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{A as n}from"./index.52fc3442.js";import{aC as l,aD as r,aE as i,aF as c,aG as u,aH as d,aI as p,S as v,aJ as f,r as m,aK as b,aL as y,aM as h,aN as g,aO as R,t as T,aP as C,X as x,aQ as k,aR as w,a0 as z,aS as E,aT as L,aU as B,_ as S,a1 as M,aV as P,aW as H,aX as O,aY as A,aZ as j,a_ as F,k as _,U as W,A as V,a5 as D,a$ as G,b0 as N,b1 as I,b2 as U,a3 as X,c as Y,b3 as K,d as $,b4 as q,b5 as J,b6 as Q,b7 as Z,b8 as ee,ad as te,b9 as ae,ba as se,i as oe,bb as ne,f as le,n as re,s as ie,bc as ce,bd as ue,av as de,be as pe,bf as ve,bg as fe,at as me,bh as be,bi as ye,bj as he,bk as ge,z as Re,y as Te,p as Ce,x as xe,bl as ke,bm as we,$ as ze,bn as Ee,Y as Le,bo as Be,a2 as Se,bp as Me,bq as Pe,br as He,bs as Oe,bt as Ae,bu as je,ac as Fe,bv as _e,bw as We,bx as Ve,by as De,bz as Ge,bA as Ne,V as Ie,aB as Ue,a4 as Xe,C as Ye,F as Ke,bB as $e,bC as qe,bD as Je,bE as Qe,bF as Ze,bG as et,bH as tt,bI as at,bJ as st,bK as ot,bL as nt,bM as lt,bN as rt,E as it,bO as ct,Z as ut,bP as dt,ak as pt,bQ as vt,G as ft}from"./index.4bebf942.js";import"./vendor.183d7d35.js";var mt=dt(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:()=>{},customRef:l,isProxy:r,isReactive:i,isReadonly:c,isRef:u,markRaw:d,proxyRefs:p,reactive:v,readonly:f,ref:m,shallowReactive:b,shallowReadonly:y,shallowRef:h,toRaw:g,toRef:R,toRefs:T,triggerRef:C,unref:x,camelize:k,capitalize:w,toDisplayString:z,toHandlerKey:E,BaseTransition:L,Comment:B,Fragment:S,KeepAlive:M,Static:P,Suspense:H,Teleport:O,Text:A,callWithAsyncErrorHandling:j,callWithErrorHandling:F,cloneVNode:_,computed:W,createBlock:V,createCommentVNode:D,createHydrationRenderer:G,createRenderer:N,createSlots:I,createStaticVNode:U,createTextVNode:X,createVNode:Y,defineAsyncComponent:K,defineComponent:$,defineEmit:q,defineProps:J,get devtools(){return Q},getCurrentInstance:Z,getTransitionRawChildren:ee,h:te,handleError:ae,initCustomFormatter:se,inject:oe,isRuntimeOnly:ne,isVNode:le,mergeProps:re,nextTick:ie,onActivated:ce,onBeforeMount:ue,onBeforeUnmount:de,onBeforeUpdate:pe,onDeactivated:ve,onErrorCaptured:fe,onMounted:me,onRenderTracked:be,onRenderTriggered:ye,onUnmounted:he,onUpdated:ge,openBlock:Re,popScopeId:Te,provide:Ce,pushScopeId:xe,queuePostFlushCb:ke,registerRuntimeCompiler:we,renderList:ze,renderSlot:Ee,resolveComponent:Le,resolveDirective:Be,resolveDynamicComponent:Se,resolveTransitionHooks:Me,setBlockTracking:Pe,setDevtoolsHook:He,setTransitionHooks:Oe,ssrContextKey:Ae,ssrUtils:je,toHandlers:Fe,transformVNodeArgs:_e,useContext:We,useSSRContext:Ve,useTransitionState:De,version:Ge,warn:Ne,watch:Ie,watchEffect:Ue,withCtx:Xe,withDirectives:Ye,withScopeId:Ke,Transition:$e,TransitionGroup:qe,createApp:Je,createSSRApp:Qe,hydrate:Ze,render:et,useCssModule:tt,useCssVars:at,vModelCheckbox:st,vModelDynamic:ot,vModelRadio:nt,vModelSelect:lt,vModelText:rt,vShow:it,withKeys:ct,withModifiers:ut})),bt=pt((function(e,t){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionGroup=t.Transition=t.getTransitionGroupProps=t.getTransitionProps=void 0;t.getTransitionProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return s};t.getTransitionGroupProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return s};var s=mt.Transition;t.Transition=s;var o=mt.TransitionGroup;t.TransitionGroup=o;var n=s;t.default=n}));function yt(e,{emit:t,attrs:a}){const s=m(null),o=m(null),n=m(null),l=m(null),r=m(null),i=m(null),c=m(null),u=m(null),d=m(null),p=m(null),v=m(null),f=m(null),b=m(null),y=m(null),h=m(null),g=m(null),R={x:0,y:0},T=e=>Object.assign(R,{x:e.pageX,y:e.pageY});document.documentElement.addEventListener("click",T,!0);const C=bt.getTransitionProps("fade"),x=bt.getTransitionProps("zoom",{onAfterLeave:()=>t("update:visible",!1)});let k,w,z,E,L,B=0;function S(e,t,a,s,o,l){t.onmousedown=function(r){const i=r.clientX-t.offsetLeft,c=r.clientY-t.offsetTop,u=e.offsetTop,d=e.offsetLeft,p=e.offsetWidth,v=e.offsetHeight,f=r=>{const f=r.clientX-i,m=r.clientY-c,b=document.documentElement.clientWidth-e.offsetLeft-2,y=document.documentElement.clientHeight-e.offsetTop-2;let h=a?p-f:t.offsetWidth+f,g=s?v-m:t.offsetHeight+m;return a&&(e.style.left=d+f+"px"),s&&(e.style.top=u+m+"px"),h<400&&(h=400),h>b&&(h=b),o||(n.value.style.width=h+"px"),g<140&&(g=140),g>y&&(g=y),l||(n.value.style.height=g-B-L+"px"),(a&&400==h||s&&140==g)&&(document.onmousemove=null),(a||s)&&(document.onmousemove=null),!1},m=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),!1}}const M=()=>{!function(e,t){let a=0;(t=t||e).style.cursor="move",t.onmousedown=function(t){a=t.clientX-e.offsetLeft;const s=t.clientY-e.offsetTop,o=t=>{let o=t.clientX-a,n=t.clientY-s;const l=document.documentElement.clientWidth-e.offsetWidth,r=document.documentElement.clientHeight-e.offsetHeight;return o<=0&&(o=0),n<=0&&(n=0),o>=l&&(o=l),n>=r&&(n=r),e.style.left=o+"px",e.style.top=n+"px",!1},n=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};return document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),!1},h.value.onclick=function(){const{left:t,top:a}=getComputedStyle(e),{width:s,height:o}=getComputedStyle(n.value);k=s,w=o,z=t,E=a,e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",n.value.style.width=e.style.width,n.value.style.height=parseFloat(e.style.height)-L-B+"px",this.style.display="none",g.value.style.display="block"},g.value.onclick=function(){n.value.style.height=w,n.value.style.width=k,e.style.width=e.style.height="unset",e.style.left=z,e.style.top=E,this.style.display="none",h.value.style.display="block"}}(s.value,r.value),S(s.value,p.value,!0,!0,!1,!1),S(s.value,v.value,!1,!0,!1,!1),S(s.value,f.value,!1,!1,!1,!1),S(s.value,b.value,!0,!1,!1,!1),S(s.value,i.value,!0,!1,!1,!0),S(s.value,c.value,!1,!0,!0,!1),S(s.value,u.value,!1,!1,!1,!0),S(s.value,d.value,!1,!1,!0,!1),s.value.style.left=(document.documentElement.clientWidth-s.value.offsetWidth)/2+"px",s.value.style.top=e.centered?(document.documentElement.clientHeight-s.value.offsetHeight)/2+"px":"100px";const{left:t,top:a}=s.value.getBoundingClientRect(),{x:l,y:m}=R;o.value.style.transformOrigin=`${l-t}px ${m-a}px`},P=vt(M,30);return me((()=>{Ie((()=>e.visible),(e=>{e&&(ie((()=>{var e,t;L=(null==(e=r.value)?void 0:e.offsetHeight)||0,B=(null==(t=l.value)?void 0:t.offsetHeight)||0,M()})),window.addEventListener("resize",P))}),{immediate:!0})})),de((()=>{window.removeEventListener("resize",P),document.documentElement.removeEventListener("click",T,!0)})),{dragRef:s,modalWrapRef:o,modalBody:n,modalFooter:l,titleRef:r,resizeLRef:i,resizeTRef:c,resizeRRef:u,resizeBRef:d,resizeLTRef:p,resizeTRRef:v,resizeBRRef:f,resizeLBRef:b,minRef:y,maxRef:h,revertRef:g,maskTransitionProps:C,dialogTransitionProps:x,closeModal:()=>{t("update:visible",!1)}}}var ht=$({name:"ACustomModal",components:{Transition:bt.Transition},emits:["update:visible"],props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:(e,t)=>yt(e,t)});const gt={ref:"modalRootRef",class:"ant-modal-root custom-modal"},Rt={class:"ant-modal-mask"},Tt={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},Ct={ref:"dragRef",class:"ant-modal"},xt={class:"ant-modal-content"},kt={ref:"titleRef",class:"ant-modal-header"},wt={class:"ant-modal-title"},zt={class:"ant-modal-operate"},Et={ref:"minRef",type:"button",class:"min",title:"最小化"},Lt={ref:"maxRef",type:"button",class:"max",title:"最大化"},Bt={ref:"revertRef",type:"button",class:"revert",title:"还原"},St={ref:"resizeLRef",class:"resizeL"},Mt={ref:"resizeTRef",class:"resizeT"},Pt={ref:"resizeRRef",class:"resizeR"},Ht={ref:"resizeBRef",class:"resizeB"},Ot={ref:"resizeLTRef",class:"resizeLT"},At={ref:"resizeTRRef",class:"resizeTR"},jt={ref:"resizeBRRef",class:"resizeBR"},Ft={ref:"resizeLBRef",class:"resizeLB"},_t={ref:"modalBody",class:"ant-modal-body"},Wt=X(" ① 窗口可以拖动；"),Vt=Y("br",null,null,-1),Dt=X(" ② 窗口可以通过八个方向改变大小；"),Gt=Y("br",null,null,-1),Nt=X(" ③ 窗口可以最小化、最大化、还原、关闭；"),It=Y("br",null,null,-1),Ut=X(" ④ 限制窗口最小宽度/高度。 "),Xt={key:0,ref:"modalFooter",class:"ant-modal-footer"},Yt=X("取 消"),Kt=X("确 认");ht.render=function(e,t,a,s,o,n){const l=Le("a-button");return e.destroyOnClose&&!e.visible?(Re(),V(S,{key:0},[],64)):(Re(),V(O,{key:1,to:"body"},[Y("div",gt,[Y($e,re({key:"mask"},e.maskTransitionProps),{default:Xe((()=>[Ye(Y("div",Rt,null,512),[[it,e.visible]])])),_:1},16),Y($e,re({key:"dialog"},e.dialogTransitionProps),{default:Xe((()=>[e.visible?(Re(),V("div",Tt,[Y("div",Ct,[Y("div",xt,[Y("div",kt,[Y("span",wt,z(e.title),1),Y("div",zt,[Y("button",Et,null,512),Y("button",Lt,null,512),Y("button",Bt,null,512),Y("button",{type:"button",class:"close",title:"关闭",onClick:t[1]||(t[1]=(...t)=>e.closeModal&&e.closeModal(...t))})])],512),Y("div",St,null,512),Y("div",Mt,null,512),Y("div",Pt,null,512),Y("div",Ht,null,512),Y("div",Ot,null,512),Y("div",At,null,512),Y("div",jt,null,512),Y("div",Ft,null,512),Y("div",_t,[Ee(e.$slots,"default",{},(()=>[Wt,Vt,Dt,Gt,Nt,It,Ut]))],512),null!=e.footer?(Re(),V("div",Xt,[Ee(e.$slots,"footer",{},(()=>[Y("div",null,[Y(l,{onClick:e.closeModal},{default:Xe((()=>[Yt])),_:1},8,["onClick"]),Y(l,{type:"primary",loading:e.confirmLoading,onClick:e.closeModal},{default:Xe((()=>[Kt])),_:1},8,["loading","onClick"])])]))],512)):D("",!0)])],512)],512)):D("",!0)])),_:3},16)],512)]))};var $t=$({name:"CustomModal",components:{[n.name]:n,[ft.name]:ft,ACustomModal:ht},setup(){const e=v({visible:!1});return((e,n)=>{for(var l in n||(n={}))t.call(n,l)&&o(e,l,n[l]);if(a)for(var l of a(n))s.call(n,l)&&o(e,l,n[l]);return e})({},T(e))}});const qt=X("弹出弹窗");$t.render=function(e,t,a,s,o,n){const l=Le("a-alert"),r=Le("a-button"),i=Le("a-card"),c=Le("a-custom-modal");return Re(),V("div",null,[Y(l,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),Y(i,null,{default:Xe((()=>[Y(r,{type:"primary",onClick:t[1]||(t[1]=t=>e.visible=!0)},{default:Xe((()=>[qt])),_:1})])),_:1}),Y(c,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t)},null,8,["visible"])])};export default $t;
