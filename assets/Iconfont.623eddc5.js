var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,i=Object.prototype.propertyIsEnumerable,o=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&o(e,a,r[a]);if(n)for(var a of n(r))i.call(r,a)&&o(e,a,r[a]);return e};import{A as a}from"./index.52fc3442.js";import{c as l,n as c,I as s,d as u,bZ as d,co as m,r as g,S as f,U as p,t as v,Y as b,z as h,A as y,Z as O,a4 as w,a5 as j,aX as S,a0 as k,x as P,y as z,F as x,a3 as C}from"./index.4bebf942.js";import{I}from"./icon-font.c5d9b997.js";import"./vendor.183d7d35.js";var U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){M(e,t,n[t])}))}return e}({},e,t.attrs);return l(s,c(n,{icon:U}),null)};V.displayName="RedoOutlined",V.inheritAttrs=!1;var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){L(e,t,n[t])}))}return e}({},e,t.attrs);return l(s,c(n,{icon:E}),null)};H.displayName="DownloadOutlined",H.inheritAttrs=!1;var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){_(e,t,n[t])}))}return e}({},e,t.attrs);return l(s,c(n,{icon:N}),null)};A.displayName="ZoomInOutlined",A.inheritAttrs=!1;var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){R(e,t,n[t])}))}return e}({},e,t.attrs);return l(s,c(n,{icon:D}),null)};B.displayName="ZoomOutOutlined",B.inheritAttrs=!1;var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zm196-50c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zm0-140c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}},{tag:"path",attrs:{d:"M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"}}]},name:"one-to-one",theme:"outlined"};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){T(e,t,n[t])}))}return e}({},e,t.attrs);return l(s,c(n,{icon:Z}),null)};function F(e){const t=e.lastIndexOf("/")+1;let n=e.substring(t);return n=decodeURI(n.split("?")[0]),n}W.displayName="OneToOneOutlined",W.inheritAttrs=!1;var q=u({name:"PreviewModal",components:{ZoomInOutlined:A,ZoomOutOutlined:B,RedoOutlined:V,DownloadOutlined:H,CloseCircleOutlined:d,OneToOneOutlined:W,[m.name]:m},emits:["update:visible"],props:{visible:{type:Boolean,default:!1},type:{type:String,default:"image"},url:{type:String,default:""}},setup(e,{emit:t}){const n=g(null);let i;const o=f({timer:null,loading:!1,rotateDeg:0,imgScale:1,scaleCV:.07,initWidth:0,initHeight:0,contentStyle:{width:"60vw",height:"60vh"},imgStyle:{width:"",height:"",transform:"rotate(0)"}}),a=p({get:()=>e.visible,set:e=>t("update:visible",e)}),l=(e="scale")=>{o.imgStyle.width=o.initWidth*o.imgScale+"px",o.imgStyle.height=o.initHeight*o.imgScale+"px","init"===e?(o.imgStyle.maxWidth="",o.imgStyle.maxHeight=""):(o.imgStyle.maxWidth="none!important",o.imgStyle.maxHeight="none!important"),clearTimeout(i),i=setTimeout((()=>n.value.classList.remove("active")),1400),n.value.classList.add("active"),o.contentStyle={}};return r(r({},v(o)),{imgScaleMask:n,isVisible:a,rotateImg:()=>{o.rotateDeg-=90,o.imgStyle.transform=`rotate(${o.rotateDeg}deg)`},saveImg:e=>{!function({url:e,target:t="_blank",fileName:n}){const i=new URL(e).host==location.host;new Promise(((o,r)=>{if(i){const i=document.createElement("a");if(i.href=e,i.target=t,void 0!==i.download&&(i.download=n||F(e)),document.createEvent){const e=document.createEvent("MouseEvents");return e.initEvent("click",!0,!0),i.dispatchEvent(e),o(!0)}return-1===e.indexOf("?")&&(e+="?download"),window.open(e,t),o(!0)}{const t=document.createElement("canvas"),n=document.createElement("img");n.setAttribute("crossOrigin","Anonymous"),n.src=e,n.onload=i=>{t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0,n.width,n.height),t.toBlob((t=>{const n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.download=F(e),n.click(),URL.revokeObjectURL(n.href),o(!0)}),"image/jpeg")},n.onerror=e=>r(e)}}))}({url:e})},zoomInImg:()=>{o.imgScale+=o.scaleCV,l()},zoomOutImg:()=>{o.imgScale-=o.scaleCV,l()},handZoom:l,imgLoaded:e=>{var t;if(null==(t=e.currentTarget)?void 0:t.complete){const{width:t,height:n}=getComputedStyle(e.currentTarget);o.imgStyle.width=t,o.imgStyle.height=n,o.initWidth=parseFloat(t),o.initHeight=parseFloat(n)}},resetImg:()=>{o.imgScale=1,l()}})}});const X={key:0,class:"toolbar"};q.render=function(e,t,n,i,o,r){const a=b("close-circle-outlined"),c=b("a-spin"),s=b("zoom-in-outlined"),u=b("zoom-out-outlined"),d=b("one-to-one-outlined"),m=b("redo-outlined"),g=b("download-outlined");return h(),y(S,{to:"body"},[e.isVisible?(h(),y("div",{key:0,class:"preview-modal",onClick:t[6]||(t[6]=O((t=>e.isVisible=!1),["self"]))},[l(a,{class:"close-icon",onClick:t[1]||(t[1]=t=>e.isVisible=!1)}),l("div",{class:"preview-content",style:e.contentStyle},[l(c,{spinning:e.loading},{default:w((()=>["image"===e.type?(h(),y("img",{key:0,ref:"img",style:e.imgStyle,src:e.url,alt:"",onLoad:t[2]||(t[2]=O(((...t)=>e.imgLoaded&&e.imgLoaded(...t)),["stop"]))},null,44,["src"])):j("",!0),"video"===e.type?(h(),y("video",{key:1,ref:"video",src:e.url,controls:"",autoplay:"",onCanplay:t[3]||(t[3]=t=>e.loading=!1),onLoadstart:t[4]||(t[4]=t=>e.loading=!0)},null,40,["src"])):j("",!0),l("div",{ref:"imgScaleMask",class:"img-scale-mask"},k(~~(100*e.imgScale)+"%"),513)])),_:1},8,["spinning"])],4),"image"===e.type?(h(),y("div",X,[l(s,{title:"放大",onClick:e.zoomInImg},null,8,["onClick"]),l(u,{title:"缩放",onClick:e.zoomOutImg},null,8,["onClick"]),l(d,{title:"原始比例",onClick:e.resetImg},null,8,["onClick"]),l(m,{title:"旋转",onClick:e.rotateImg},null,8,["onClick"]),l(g,{title:"下载",onClick:t[5]||(t[5]=t=>e.saveImg(e.url))})])):j("",!0)])):j("",!0)])};var Y=u({name:"CustomModal",components:{[a.name]:a,IconFont:I,PreviewModal:q},setup(){const e=f({scriptUrl:"",iconName:"",visible:!1,imageUrl:""});return r(r({},v(e)),{showPreview:t=>{e.imageUrl=t.target.currentSrc,e.visible=!0}})}});const $=x();P("data-v-4f5cc384");const G=C(" 示意图："),J=C(" (例如：//at.alicdn.com/t/font_1166867_7zdsgx6x88l.js) "),K=C(" （例如：icon-huanfu1、icon-zhutipifu、icon-xinwendongtai1） "),Q={key:1};z();const ee=$(((e,t,n,i,o,r)=>{const a=b("a-alert"),c=b("preview-modal"),s=b("a-input"),u=b("a-form-item"),d=b("icon-font"),m=b("a-form"),g=b("a-card");return h(),y("div",null,[l(a,{message:"自定义图标",description:"使用阿里图标库，可以有效减小项目的体积，支持离线本地图标和在线图标",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),l(g,null,{default:$((()=>[G,l("img",{class:"image-demo",src:"http://ww1.sinaimg.cn/large/005IOlAWgy1gl8bm4ot9dj314r0opabq.jpg",onClick:t[1]||(t[1]=(...t)=>e.showPreview&&e.showPreview(...t))}),e.visible?(h(),y(c,{key:0,visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t),type:"image",url:e.imageUrl},null,8,["visible","url"])):j("",!0),l(m,null,{default:$((()=>[l(u,{label:"阿里图标路径"},{default:$((()=>[l(s,{value:e.scriptUrl,"onUpdate:value":t[3]||(t[3]=t=>e.scriptUrl=t),style:{width:"400px"},placeholder:"请输入你的阿里巴巴矢量图标库项目图标的路径"},null,8,["value"]),J])),_:1}),l(u,{label:"图标名字"},{default:$((()=>[l(s,{value:e.iconName,"onUpdate:value":t[4]||(t[4]=t=>e.iconName=t),placeholder:"请输入图标的名字",style:{width:"200px"}},null,8,["value"]),K])),_:1}),l(u,{label:"效果"},{default:$((()=>[e.scriptUrl&&e.iconName?(h(),y(d,{key:0,"script-url":e.scriptUrl,type:e.iconName,size:"30"},null,8,["script-url","type"])):(h(),y("span",Q,"可以复制示例的地址和图标查看效果"))])),_:1})])),_:1})])),_:1})])}));Y.render=ee,Y.__scopeId="data-v-4f5cc384";export default Y;
