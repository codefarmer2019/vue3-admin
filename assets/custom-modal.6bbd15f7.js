var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;import{A as n}from"./index.b28e9d5a.js";import{aF as l,aG as r,aH as i,aI as c,aJ as d,aK as u,aL as p,S as v,aM as f,r as m,aN as b,aO as y,aP as h,aQ as g,aR as R,t as T,aS as C,Y as x,aT as w,aU as k,a1 as z,aV as E,aW as L,aX as S,$ as B,a2 as P,aY as H,aZ as M,a_ as O,a$ as A,b0 as _,b1 as j,k as F,U as W,A as V,a5 as G,b2 as I,b3 as N,b4 as D,b5 as U,a4 as Y,c as K,b6 as X,d as $,b7 as q,b8 as J,b9 as Q,ba as Z,bb as ee,ag as te,bc as ae,bd as se,i as oe,be as ne,f as le,n as re,s as ie,bf as ce,bg as de,ay as ue,bh as pe,bi as ve,bj as fe,aw as me,bk as be,bl as ye,bm as he,bn as ge,z as Re,y as Te,p as Ce,x as xe,bo as we,bp as ke,a0 as ze,bq as Ee,Z as Le,br as Se,a3 as Be,bs as Pe,bt as He,bu as Me,bv as Oe,bw as Ae,bx as _e,af as je,by as Fe,bz as We,bA as Ve,bB as Ge,bC as Ie,bD as Ne,V as De,aE as Ue,a7 as Ye,C as Ke,F as Xe,bE as $e,bF as qe,bG as Je,bH as Qe,bI as Ze,bJ as et,bK as tt,bL as at,bM as st,bN as ot,bO as nt,bP as lt,bQ as rt,E as it,bR as ct,_ as dt,bS as ut,an as pt,bT as vt,G as ft}from"./index.c02ba84c.js";import"./vendor.183d7d35.js";var mt=ut(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:()=>{},customRef:l,isProxy:r,isReactive:i,isReadonly:c,isRef:d,markRaw:u,proxyRefs:p,reactive:v,readonly:f,ref:m,shallowReactive:b,shallowReadonly:y,shallowRef:h,toRaw:g,toRef:R,toRefs:T,triggerRef:C,unref:x,camelize:w,capitalize:k,toDisplayString:z,toHandlerKey:E,BaseTransition:L,Comment:S,Fragment:B,KeepAlive:P,Static:H,Suspense:M,Teleport:O,Text:A,callWithAsyncErrorHandling:_,callWithErrorHandling:j,cloneVNode:F,computed:W,createBlock:V,createCommentVNode:G,createHydrationRenderer:I,createRenderer:N,createSlots:D,createStaticVNode:U,createTextVNode:Y,createVNode:K,defineAsyncComponent:X,defineComponent:$,defineEmit:q,defineProps:J,get devtools(){return Q},getCurrentInstance:Z,getTransitionRawChildren:ee,h:te,handleError:ae,initCustomFormatter:se,inject:oe,isRuntimeOnly:ne,isVNode:le,mergeProps:re,nextTick:ie,onActivated:ce,onBeforeMount:de,onBeforeUnmount:ue,onBeforeUpdate:pe,onDeactivated:ve,onErrorCaptured:fe,onMounted:me,onRenderTracked:be,onRenderTriggered:ye,onUnmounted:he,onUpdated:ge,openBlock:Re,popScopeId:Te,provide:Ce,pushScopeId:xe,queuePostFlushCb:we,registerRuntimeCompiler:ke,renderList:ze,renderSlot:Ee,resolveComponent:Le,resolveDirective:Se,resolveDynamicComponent:Be,resolveTransitionHooks:Pe,setBlockTracking:He,setDevtoolsHook:Me,setTransitionHooks:Oe,ssrContextKey:Ae,ssrUtils:_e,toHandlers:je,transformVNodeArgs:Fe,useContext:We,useSSRContext:Ve,useTransitionState:Ge,version:Ie,warn:Ne,watch:De,watchEffect:Ue,withCtx:Ye,withDirectives:Ke,withScopeId:Xe,Transition:$e,TransitionGroup:qe,createApp:Je,createSSRApp:Qe,hydrate:Ze,render:et,useCssModule:tt,useCssVars:at,vModelCheckbox:st,vModelDynamic:ot,vModelRadio:nt,vModelSelect:lt,vModelText:rt,vShow:it,withKeys:ct,withModifiers:dt})),bt=pt((function(e,t){function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransitionGroup=t.Transition=t.getTransitionGroupProps=t.getTransitionProps=void 0;t.getTransitionProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},t);return s};t.getTransitionGroupProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(e?{appear:!0,appearFromClass:"".concat(e,"-appear ").concat(e,"-appear-prepare"),appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},t);return s};var s=mt.Transition;t.Transition=s;var o=mt.TransitionGroup;t.TransitionGroup=o;var n=s;t.default=n}));function yt(e,{emit:t,attrs:a}){const s=m(null),o=m(null),n=m(null),l=m(null),r=m(null),i=m(null),c=m(null),d=m(null),u=m(null),p=m(null),v=m(null),f=m(null),b=m(null),y=m(null),h=m(null),g=m(null),R={x:0,y:0},T=e=>Object.assign(R,{x:e.pageX,y:e.pageY});document.documentElement.addEventListener("click",T,!0);const C=bt.getTransitionProps("fade"),x=bt.getTransitionProps("zoom",{onAfterLeave:()=>t("update:visible",!1)});let w,k,z,E,L,S=0;function B(e,t,a,s,o,l){t.onmousedown=function(r){const i=r.clientX-t.offsetLeft,c=r.clientY-t.offsetTop,d=e.offsetTop,u=e.offsetLeft,p=e.offsetWidth,v=e.offsetHeight,f=r=>{const f=r.clientX-i,m=r.clientY-c,b=document.documentElement.clientWidth-e.offsetLeft-2,y=document.documentElement.clientHeight-e.offsetTop-2;let h=a?p-f:t.offsetWidth+f,g=s?v-m:t.offsetHeight+m;return a&&(e.style.left=u+f+"px"),s&&(e.style.top=d+m+"px"),h<400&&(h=400),h>b&&(h=b),o||(n.value.style.width=h+"px"),g<140&&(g=140),g>y&&(g=y),l||(n.value.style.height=g-S-L+"px"),(a&&400==h||s&&140==g)&&(document.onmousemove=null),(a||s)&&(document.onmousemove=null),!1},m=()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};return document.addEventListener("mousemove",f),document.addEventListener("mouseup",m),!1}}const P=()=>{!function(e,t){let a=0;(t=t||e).style.cursor="move",t.onmousedown=function(t){a=t.clientX-e.offsetLeft;const s=t.clientY-e.offsetTop,o=t=>{let o=t.clientX-a,n=t.clientY-s;const l=document.documentElement.clientWidth-e.offsetWidth,r=document.documentElement.clientHeight-e.offsetHeight;return o<=0&&(o=0),n<=0&&(n=0),o>=l&&(o=l),n>=r&&(n=r),e.style.left=o+"px",e.style.top=n+"px",!1},n=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};return document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),!1},h.value.onclick=function(){const{left:t,top:a}=getComputedStyle(e),{width:s,height:o}=getComputedStyle(n.value);w=s,k=o,z=t,E=a,e.style.top=e.style.left=0,e.style.width=document.documentElement.clientWidth-2+"px",e.style.height=document.documentElement.clientHeight-2+"px",n.value.style.width=e.style.width,n.value.style.height=parseFloat(e.style.height)-L-S+"px",this.style.display="none",g.value.style.display="block"},g.value.onclick=function(){n.value.style.height=k,n.value.style.width=w,e.style.width=e.style.height="unset",e.style.left=z,e.style.top=E,this.style.display="none",h.value.style.display="block"}}(s.value,r.value),B(s.value,p.value,!0,!0,!1,!1),B(s.value,v.value,!1,!0,!1,!1),B(s.value,f.value,!1,!1,!1,!1),B(s.value,b.value,!0,!1,!1,!1),B(s.value,i.value,!0,!1,!1,!0),B(s.value,c.value,!1,!0,!0,!1),B(s.value,d.value,!1,!1,!1,!0),B(s.value,u.value,!1,!1,!0,!1),s.value.style.left=(document.documentElement.clientWidth-s.value.offsetWidth)/2+"px",s.value.style.top=e.centered?(document.documentElement.clientHeight-s.value.offsetHeight)/2+"px":"100px";const{left:t,top:a}=s.value.getBoundingClientRect(),{x:l,y:m}=R;o.value.style.transformOrigin=`${l-t}px ${m-a}px`},H=vt(P,30);return me((()=>{De((()=>e.visible),(e=>{e&&(ie((()=>{var e,t;L=(null==(e=r.value)?void 0:e.offsetHeight)||0,S=(null==(t=l.value)?void 0:t.offsetHeight)||0,P()})),window.addEventListener("resize",H))}),{immediate:!0})})),ue((()=>{window.removeEventListener("resize",H),document.documentElement.removeEventListener("click",T,!0)})),{dragRef:s,modalWrapRef:o,modalBody:n,modalFooter:l,titleRef:r,resizeLRef:i,resizeTRef:c,resizeRRef:d,resizeBRef:u,resizeLTRef:p,resizeTRRef:v,resizeBRRef:f,resizeLBRef:b,minRef:y,maxRef:h,revertRef:g,maskTransitionProps:C,dialogTransitionProps:x,closeModal:()=>{t("update:visible",!1)}}}var ht=$({name:"a-custom-modal",emits:["update:visible"],components:{Transition:bt.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},setup:(e,t)=>yt(e,t)});const gt={ref:"modalRootRef",class:"ant-modal-root custom-modal"},Rt={class:"ant-modal-mask"},Tt={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},Ct={ref:"dragRef",class:"ant-modal"},xt={class:"ant-modal-content"},wt={ref:"titleRef",class:"ant-modal-header"},kt={class:"ant-modal-title"},zt={class:"ant-modal-operate"},Et={ref:"minRef",type:"button",class:"min",title:"最小化"},Lt={ref:"maxRef",type:"button",class:"max",title:"最大化"},St={ref:"revertRef",type:"button",class:"revert",title:"还原"},Bt={ref:"resizeLRef",class:"resizeL"},Pt={ref:"resizeTRef",class:"resizeT"},Ht={ref:"resizeRRef",class:"resizeR"},Mt={ref:"resizeBRef",class:"resizeB"},Ot={ref:"resizeLTRef",class:"resizeLT"},At={ref:"resizeTRRef",class:"resizeTR"},_t={ref:"resizeBRRef",class:"resizeBR"},jt={ref:"resizeLBRef",class:"resizeLB"},Ft={ref:"modalBody",class:"ant-modal-body"},Wt=Y(" ① 窗口可以拖动；"),Vt=K("br",null,null,-1),Gt=Y(" ② 窗口可以通过八个方向改变大小；"),It=K("br",null,null,-1),Nt=Y(" ③ 窗口可以最小化、最大化、还原、关闭；"),Dt=K("br",null,null,-1),Ut=Y(" ④ 限制窗口最小宽度/高度。 "),Yt={key:0,ref:"modalFooter",class:"ant-modal-footer"},Kt=Y("取 消"),Xt=Y("确 认");ht.render=function(e,t,a,s,o,n){const l=Le("a-button");return e.destroyOnClose&&!e.visible?(Re(),V(B,{key:0},[],64)):(Re(),V(O,{key:1,to:"body"},[K("div",gt,[K($e,re({key:"mask"},e.maskTransitionProps),{default:Ye((()=>[Ke(K("div",Rt,null,512),[[it,e.visible]])])),_:1},16),K($e,re({key:"dialog"},e.dialogTransitionProps),{default:Ye((()=>[e.visible?(Re(),V("div",Tt,[K("div",Ct,[K("div",xt,[K("div",wt,[K("span",kt,z(e.title),1),K("div",zt,[K("button",Et,null,512),K("button",Lt,null,512),K("button",St,null,512),K("button",{onClick:t[1]||(t[1]=(...t)=>e.closeModal&&e.closeModal(...t)),type:"button",class:"close",title:"关闭"})])],512),K("div",Bt,null,512),K("div",Pt,null,512),K("div",Ht,null,512),K("div",Mt,null,512),K("div",Ot,null,512),K("div",At,null,512),K("div",_t,null,512),K("div",jt,null,512),K("div",Ft,[Ee(e.$slots,"default",{},(()=>[Wt,Vt,Gt,It,Nt,Dt,Ut]))],512),null!=e.footer?(Re(),V("div",Yt,[Ee(e.$slots,"footer",{},(()=>[K("div",null,[K(l,{onClick:e.closeModal},{default:Ye((()=>[Kt])),_:1},8,["onClick"]),K(l,{onClick:e.closeModal,type:"primary",loading:e.confirmLoading},{default:Ye((()=>[Xt])),_:1},8,["onClick","loading"])])]))],512)):G("",!0)])],512)],512)):G("",!0)])),_:3},16)],512)]))};var $t=$({name:"custom-modal",components:{[n.name]:n,[ft.name]:ft,ACustomModal:ht},setup(){const e=v({visible:!1});return((e,n)=>{for(var l in n||(n={}))t.call(n,l)&&o(e,l,n[l]);if(a)for(var l of a(n))s.call(n,l)&&o(e,l,n[l]);return e})({},T(e))}});const qt=Xe();xe("data-v-06fe08b2");const Jt=Y("弹出弹窗");Te();const Qt=qt(((e,t,a,s,o,n)=>{const l=Le("a-alert"),r=Le("a-button"),i=Le("a-card"),c=Le("a-custom-modal");return Re(),V("div",null,[K(l,{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),K(i,null,{default:qt((()=>[K(r,{onClick:t[1]||(t[1]=t=>e.visible=!0),type:"primary"},{default:qt((()=>[Jt])),_:1})])),_:1}),K(c,{visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t)},null,8,["visible"])])}));$t.render=Qt,$t.__scopeId="data-v-06fe08b2";export default $t;
