var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,i=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&r(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&r(e,n,t[n]);return e},c=(e,s)=>t(e,n(s));import{r as l,o as u,a as d,d as m,p,b as g,c as h,e as f,f as v,t as b,F as y,g as k,w as _,v as T,h as L,i as w,j as E,k as I,l as R,m as O,n as S,q as P,s as C,u as A,x,y as j,z as D,A as U,B as M,T as q,K as $,C as F,D as N,E as V,M as z,G as K,H as B,I as H,L as G,J,U as W,N as X,O as Y,P as Q,W as Z,Q as ee,R as te,S as ne,V as se,X as ae,Y as oe,Z as re,_ as ie,$ as ce,a0 as le,a1 as ue,a2 as de,a3 as me,a4 as pe,a5 as ge,a6 as he,a7 as fe,a8 as ve,a9 as be}from"./vendor.6799ef26.js";function ye(){const e=l(!0),t=t=>{e.value="boolean"==typeof t?t:t.target.online};return navigator.onLine?t(!0):t(!1),u((()=>{window.addEventListener("online",t),window.addEventListener("offline",t)})),d((()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)})),{online:e}}var ke=m({name:"HuaweiCharge",props:{battery:{type:Object,default:()=>({})},calcDischargingTime:{type:String,default:""},batteryStatus:{type:String,validator:e=>["充电中","已充满","已断开电源"].includes(e)}}});const _e=L();p("data-v-1fd2f54f");const Te={class:"container"},Le={class:"number"},we={class:"contrast"},Ee=v("div",{class:"circle"},null,-1),Ie={class:"bubbles"},Re={class:"charging"};g();const Oe=_e(((e,t,n,s,a,o)=>(h(),f("div",Te,[v("div",Le,b(e.battery.level)+"%",1),v("div",we,[Ee,v("ul",Ie,[(h(),f(y,null,k(15,(e=>v("li",{key:e}))),64))])]),v("div",Re,[v("div",null,b(e.batteryStatus),1),_(v("div",null," 剩余可使用时间："+b(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.dischargingTime)&&0!=e.battery.dischargingTime]]),_(v("span",null," 距离电池充满需要："+b(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.chargingTime)&&0!=e.battery.chargingTime]])])]))));ke.render=Oe,ke.__scopeId="data-v-1fd2f54f";var Se=m({name:"XiaomiCharge",props:{battery:{type:Object,default:()=>({})}}});const Pe=L();p("data-v-49ab1b08");const Ce={class:"container"},Ae=E('<div class="line-box" data-v-49ab1b08><div class="line-left" data-v-49ab1b08></div><div class="line-left line-right" data-v-49ab1b08></div><div class="line-center line-center-left-2" data-v-49ab1b08></div><div class="line-center line-center-left-1" data-v-49ab1b08></div><div class="line-center" data-v-49ab1b08></div><div class="line-center line-center-right-1" data-v-49ab1b08></div><div class="line-center line-center-right-2" data-v-49ab1b08></div></div><div class="outer" style="transform:scale(0.68);" data-v-49ab1b08><div class="circle circle-blur" style="padding:30px;" data-v-49ab1b08></div></div>',2),xe={class:"outer"},je={class:"text"},De=v("span",{class:"sub"},"%",-1),Ue=v("div",{class:"light"},null,-1);g();const Me=Pe(((e,t,n,s,a,o)=>(h(),f("div",Ce,[(h(),f(y,null,k(3,(e=>v("div",{key:e,class:"outer"},[v("div",{class:"circle",style:{transform:`scale(${1.01-.04*(e-1)})`}},null,4)]))),64)),Ae,(h(),f(y,null,k(4,(e=>v("div",{key:e,class:"outer"},[v("div",{class:"circle-white",style:{transform:`scale(${1-.02*(e-1)})`,"animation-duration":500-20*(e-1)+"ms"}},null,4)]))),64)),v("div",xe,[v("div",je,[w(b(e.battery.level),1),De])]),Ue]))));Se.render=Me,Se.__scopeId="data-v-49ab1b08";const qe=()=>{const e=R({battery:{charging:!1,chargingTime:0,dischargingTime:0,level:100}}),t=t=>{for(const n in e.battery)e.battery[n]=t[n];e.battery.level=100*e.battery.level},n=O((()=>`${~~(e.battery.dischargingTime/3600)}小时${~~(e.battery.dischargingTime/60%60)}分钟`)),s=O((()=>e.battery.charging&&e.battery.level>=100?"已充满":e.battery.charging?"充电中":"已断开电源"));return u((async()=>{const e=await window.navigator.getBattery();t(e),e.onchargingchange=({target:e})=>{t(e)},e.onchargingtimechange=({target:e})=>{t(e)},e.ondischargingtimechange=({target:e})=>{t(e)},e.onlevelchange=({target:e})=>{t(e)}})),c(i({},I(e)),{batteryStatus:s,calcDischargingTime:n})},$e={menus:e=>e.menus};let Fe;const Ne={},Ve=function(e,t){if(!t)return e();if(void 0===Fe){const e=document.createElement("link").relList;Fe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in Ne)return;Ne[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":Fe,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))},ze=Object.prototype.toString;function Ke(e,t){return ze.call(e)===`[object ${t}]`}function Be(e){return Ke(e,"Function")}function He(e){return Ke(e,"AsyncFunction")}function Ge(e){return Ke(e,"String")}let Je=new Map;const We=e=>[e.method,e.url,S.stringify(e.data),S.stringify(e.params)].join("&");class Xe{addPending(e){this.removePending(e);const t=We(e);e.cancelToken=e.cancelToken||new P.CancelToken((e=>{Je.has(t)||Je.set(t,e)}))}removeAllPending(){Je.forEach((e=>{e&&Be(e)&&e()})),Je.clear()}removePending(e){const t=We(e);if(Je.has(t)){const e=Je.get(t);e&&e(t),Je.delete(t)}}reset(){Je=new Map}}const Ye=({prefixKey:e="",storage:t=localStorage}={})=>new class{constructor(){this.storage=t,this.prefixKey=e}getKey(e){return`${this.prefixKey}${e}`.toUpperCase()}set(e,t,n=604800){const s=JSON.stringify({value:t,expire:null!==n?(new Date).getTime()+1e3*n:null});this.storage.setItem(this.getKey(e),s)}get(e,t=null){const n=this.storage.getItem(this.getKey(e));if(n)try{const t=JSON.parse(n),{value:s,expire:a}=t;if(null===a||a>=Date.now())return s;this.remove(this.getKey(e))}catch(s){return t}return t}remove(e){this.storage.removeItem(this.getKey(e))}clear(){this.storage.clear()}setCookie(e,t,n=604800){document.cookie=`${this.getKey(e)}=${t}; Max-Age=${n}`}getCookie(e){const t=document.cookie.split("; ");for(let n=0,s=t.length;n<s;n++){const s=t[n].split("=");if(s[0]===this.getKey(e))return s[1]}return""}removeCookie(e){this.setCookie(e,1,-1)}clearCookie(){const e=document.cookie.match(/[^ =;]+(?==)/g);if(e)for(let t=e.length;t--;)document.cookie=e[t]+"=0;expire="+new Date(0).toUTCString()}},Qe=Ye();Ye();const Ze=A.error;var et,tt,nt,st,at,ot;(tt=et||(et={}))[tt.SUCCESS=0]="SUCCESS",tt[tt.ERROR=-1]="ERROR",tt[tt.TIMEOUT=10042]="TIMEOUT",tt.TYPE="success",(st=nt||(nt={})).GET="GET",st.POST="POST",st.PATCH="PATCH",st.PUT="PUT",st.DELETE="DELETE",(ot=at||(at={})).JSON="application/json;charset=UTF-8",ot.TEXT="text/plain;charset=UTF-8",ot.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",ot.FORM_DATA="multipart/form-data;charset=UTF-8";const rt="Tabs-Routes";x.configure({showSpinner:!1});const it=["login","icons","error","error-404"],ct=j((({to:e,from:t,next:n,hasRoute:s})=>{$t.dispatch("asyncRoute/generateRoutes").then((()=>{if(!it.includes(e.name)&&!s){decodeURIComponent(t.query.redirect||"");e.path,n(c(i({},e),{replace:!0}))}})).catch((()=>n({path:"/dashboard"})))}),1800,{leading:!0});const lt=[{path:"/login",name:"login",component:()=>Ve((()=>import("./index.c7d4120f.js")),["/vite-vue3-admin/assets/index.c7d4120f.js","/vite-vue3-admin/assets/index.f909c62f.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/logo.d49f8590.js"])},{path:"/icons",name:"icons",component:()=>Ve((()=>import("./index.8fb03c0a.js")),["/vite-vue3-admin/assets/index.8fb03c0a.js","/vite-vue3-admin/assets/index.492d57ef.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/icon-font.2c7e212d.js","/vite-vue3-admin/assets/common.93b6a545.js"])}];var ut=m({name:"RouterTransition",props:{notNeedKey:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},setup(){const e=Ft();return{keepAliveComponents:O((()=>e.state.asyncRoute.keepAliveComponents))}}});ut.render=function(e,t,n,s,a,o){const r=U("router-view");return h(),f("div",null,[v(r,null,{default:M((({Component:t,route:n})=>[v(q,{name:"zoom-fade",mode:"out-in",appear:""},{default:M((()=>[(h(),f($,{include:e.keepAliveComponents},[(h(),f(F(t)))],1032,["include"]))])),_:2},1024)])),_:1})])};const dt={path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/error/404",component:()=>Ve((()=>import("./404.e255c8f3.js")),["/vite-vue3-admin/assets/404.e255c8f3.js","/vite-vue3-admin/assets/404.f0a57bee.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"])},mt={path:"/error",name:"error",redirect:"/error/404",component:ut,meta:{title:"错误页",icon:"EditOutlined",hidden:!0},children:[{path:"404",name:"error-404",meta:{title:"404",icon:"UserOutlined"},component:()=>Ve((()=>import("./404.e255c8f3.js")),["/vite-vue3-admin/assets/404.e255c8f3.js","/vite-vue3-admin/assets/404.f0a57bee.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"])}]};var pt=[...[{path:"/dashboard",name:"dashboard",redirect:"/dashboard/welcome",component:ut,meta:{title:"系统看板",icon:"icon-yibiaopan"},children:[{path:"welcome",name:"dashboard-welcome",meta:{title:"首页",icon:"icon-shouye"},component:()=>Ve((()=>import("./index.284a4f90.js")),["/vite-vue3-admin/assets/index.284a4f90.js","/vite-vue3-admin/assets/index.a0d4fcbb.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"])}]}],...[{path:"/demos",name:"demos",redirect:"/demos/custom-a-custom-modal",component:ut,meta:{title:"demo演示",icon:"icon-zhuomian"},children:[{path:"custom-a-custom-modal",name:"demos-custom-modal",meta:{title:"自定义模态框",icon:"icon-zhuomian",keepAlive:!0},component:()=>Ve((()=>import("./custom-modal.02fdb622.js")),["/vite-vue3-admin/assets/custom-modal.02fdb622.js","/vite-vue3-admin/assets/custom-modal.166d5683.css","/vite-vue3-admin/assets/index.a1f6435a.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"])},{path:"button",name:"demos-button",meta:{title:"按钮的扩展",icon:"icon-zhuomian",keepAlive:!0},component:()=>Ve((()=>import("./button.fc194091.js")),["/vite-vue3-admin/assets/button.fc194091.js","/vite-vue3-admin/assets/button.dea56fda.css","/vite-vue3-admin/assets/index.a1f6435a.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"])},{path:"form",name:"demos-form",meta:{title:"验证表单",icon:"icon-zhuomian",keepAlive:!0},component:()=>Ve((()=>import("./rule-form.db8781d6.js")),["/vite-vue3-admin/assets/rule-form.db8781d6.js","/vite-vue3-admin/assets/rule-form.cdd88e3a.css","/vite-vue3-admin/assets/index.a1f6435a.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/schema-form.bf534207.js","/vite-vue3-admin/assets/schema-form.4ba5aed5.css"])},{path:"icons",name:"demos-icons",meta:{title:"自定义图标",icon:"icon-zhuomian",keepAlive:!0},component:()=>Ve((()=>import("./Iconfont.3d2d207d.js")),["/vite-vue3-admin/assets/Iconfont.3d2d207d.js","/vite-vue3-admin/assets/Iconfont.19664923.css","/vite-vue3-admin/assets/index.a1f6435a.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/icon-font.2c7e212d.js"])}]}],...[{path:"http://buqiyuan.gitee.io/vite-vue3-lowcode/",name:"http://buqiyuan.gitee.io/vite-vue3-lowcode/",component:ut,meta:{title:"H5低代码平台",icon:"icon-externa-link"}}],...[{path:"/redirect/:path*",name:"Redirect",component:ut,meta:{title:"重定向",icon:"SettingOutlined",hidden:!0},children:[{path:"",name:"Redirect",component:()=>Ve((()=>import("./index.3be2c406.js")),["/vite-vue3-admin/assets/index.3be2c406.js","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"]),meta:{title:"重定向",hidden:!0,keepAlive:!1}}]}]];const gt=[{path:"/",name:"Layout",redirect:"/dashboard",component:()=>Ve((()=>import("./index.f9e2d3a4.js")),["/vite-vue3-admin/assets/index.f9e2d3a4.js","/vite-vue3-admin/assets/index.1bf08e28.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/logo.d49f8590.js","/vite-vue3-admin/assets/icon-font.2c7e212d.js"]),meta:{title:"首页"},children:[...pt]},...lt,mt],ht=N({history:V(""),routes:gt});const ft={transformRequestData:(e,t)=>{const{isTransformRequestResult:n,isShowMessage:s=!0,isShowErrorMessage:a,isShowSuccessMessage:o,successMessageText:r,errorMessageText:i}=t,c=Promise.reject,{data:l}=e,{code:u,result:d,message:m}=l,p=l&&Reflect.has(l,"code")&&u===et.SUCCESS;if(s&&(p&&(r||o)?A.success(r||m||"操作成功！"):p||!i&&!a?p||"modal"!==t.errorMessageMode||z.confirm({title:"错误提示",content:m}):A.error(m||i||"操作失败！")),!n)return e.data;if(!l)return c(l);if(u===et.SUCCESS)return d;if(u===et.ERROR){if(m)A.error(l.message),Promise.reject(new Error(m));else{const e="操作失败,系统异常!";A.error(e),Promise.reject(new Error(e))}return c()}if(u===et.TIMEOUT){if("login"==ht.currentRoute.value.name)return;const e="登录超时,请重新登录!";return z.destroyAll(),z.warning({title:"提示",content:"登录身份已失效,请重新登录!",onOk:()=>{ht.replace({name:"login",query:{redirect:ht.currentRoute.value.fullPath}}),Qe.clear()}}),c(new Error(e))}return p?l:c(new Error(m))},beforeRequestHook:(e,t)=>{const{apiUrl:n,joinPrefix:s,joinParamsToUrl:a,formatDate:o,isParseToJson:r}=t;if(e.url=`${n||""}${e.url}`,e.method===nt.GET){const t=(new Date).getTime();Ge(e.params)?(e.url=e.url+e.params+`?_t=${t}`,e.params={}):e.data={params:Object.assign(e.params||{},{_t:t})}}else Ge(e.params)?(e.url=e.url+e.params,e.params={}):(e.data=e.params,e.params={},a&&(e.url=function(e,t){let n="",s="";for(const a in t)n+=a+"="+encodeURIComponent(t[a])+"&";return n=n.replace(/&$/,""),s=/\?$/.test(e)?e+n:e.replace(/\/?$/,"?")+n,s}(e.url,e.data))),r||(e.params=S.stringify(e.params,{arrayFormat:"brackets"}),e.data=S.stringify(e.data,{arrayFormat:"brackets"}));return e},requestInterceptors:e=>{const t=$t.state.user.token;return t&&(e.headers.token=t),e},responseInterceptorsCatch:e=>{const{response:t,code:n,message:s}=e||{},a=t&&t.data&&t.data.error?t.data.error.message:"",o=e.toString();try{if("ECONNABORTED"===n&&-1!==s.indexOf("timeout"))return void A.error("接口请求超时,请刷新页面重试!");if(o&&o.includes("Network Error"))return void z.confirm({title:"网络异常",content:"请检查您的网络连接是否正常!"})}catch(r){throw new Error(r)}return P.isCancel(e)||function(e,t){switch(e){case 400:Ze(`${t}`);break;case 401:Ze("用户没有权限（令牌、用户名、密码错误）!");break;case 403:Ze("用户得到授权，但是访问是被禁止的。!");break;case 404:Ze("网络请求错误,未找到该资源!");break;case 405:Ze("网络请求错误,请求方法未允许!");break;case 408:Ze("网络请求超时!");break;case 500:Ze("服务器错误,请联系管理员!");break;case 501:Ze("网络未实现!");break;case 502:Ze("网络错误!");break;case 503:Ze("服务不可用，服务器暂时过载或维护!");break;case 504:Ze("网络超时!");break;case 505:Ze("http版本不支持该请求!");break;default:Ze(t)}}(e.response&&e.response.status,a),e}},vt=new class{constructor(e){this.options=e,this.axiosInstance=P.create(e),this.setupInterceptors()}createAxios(e){this.axiosInstance=P.create(e)}getTransform(){const{transform:e}=this.options;return e}getAxios(){return this.axiosInstance}configAxios(e){this.axiosInstance&&this.createAxios(e)}setHeader(e){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,e)}setupInterceptors(){const e=this.getTransform();if(!e)return;const{requestInterceptors:t,requestInterceptorsCatch:n,responseInterceptors:s,responseInterceptorsCatch:a}=e,o=new Xe;this.axiosInstance.interceptors.request.use((e=>{const{headers:{ignoreCancelToken:n}={ignoreCancelToken:!1}}=e;return!n&&o.addPending(e),t&&Be(t)&&(e=t(e)),e}),void 0),n&&Be(n)&&this.axiosInstance.interceptors.request.use(void 0,n),this.axiosInstance.interceptors.response.use((e=>(e&&o.removePending(e.config),s&&Be(s)&&(e=s(e)),e)),void 0),a&&Be(a)&&this.axiosInstance.interceptors.response.use(void 0,a)}request(e,t){let n=C(e);const s=this.getTransform(),{requestOptions:a}=this.options,o=Object.assign({},a,t),{beforeRequestHook:r,requestCatch:i,transformRequestData:c}=s||{};return r&&Be(r)&&(n=r(n,o)),new Promise(((e,t)=>{this.axiosInstance.request(n).then((n=>{const s=P.isCancel(n);if(c&&Be(c)&&!s){const t=c(n,o);return e(t)}t(n)})).catch((e=>{i&&Be(i)?t(i(e)):t(e)}))}))}}({timeout:15e3,headers:{"Content-Type":at.FORM_URLENCODED},transform:ft,requestOptions:{joinPrefix:!0,isTransformRequestResult:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"none",apiUrl:"http://29135jo738.zicp.vip/api/v1"},withCredentials:!1});var bt,yt;(yt=bt||(bt={})).adminMenus="/admin/menus",yt.GetBtnCodeListByUserId="/getBtnCodeListByUserId";const kt={"/system":ut,"/system/access":()=>Ve((()=>import("./index.c34e791e.js")),["/vite-vue3-admin/assets/index.c34e791e.js","/vite-vue3-admin/assets/index.0be8538a.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/form-modal.828cd11d.js","/vite-vue3-admin/assets/form-modal.9ad7ae3d.css","/vite-vue3-admin/assets/schema-form.bf534207.js","/vite-vue3-admin/assets/schema-form.4ba5aed5.css","/vite-vue3-admin/assets/common.93b6a545.js","/vite-vue3-admin/assets/icon-font.2c7e212d.js"]),"/system/account":()=>Ve((()=>import("./index.201825ac.js")),["/vite-vue3-admin/assets/index.201825ac.js","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/form-modal.828cd11d.js","/vite-vue3-admin/assets/form-modal.9ad7ae3d.css","/vite-vue3-admin/assets/schema-form.bf534207.js","/vite-vue3-admin/assets/schema-form.4ba5aed5.css","/vite-vue3-admin/assets/common.93b6a545.js","/vite-vue3-admin/assets/index.3ca0352e.js","/vite-vue3-admin/assets/index.475b4c54.js"]),"/system/dict":()=>Ve((()=>import("./index.ddae83ec.js")),["/vite-vue3-admin/assets/index.ddae83ec.js","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/form-modal.828cd11d.js","/vite-vue3-admin/assets/form-modal.9ad7ae3d.css","/vite-vue3-admin/assets/schema-form.bf534207.js","/vite-vue3-admin/assets/schema-form.4ba5aed5.css","/vite-vue3-admin/assets/common.93b6a545.js","/vite-vue3-admin/assets/index.3ca0352e.js"]),"/system/role":()=>Ve((()=>import("./index.4f27bd16.js")),["/vite-vue3-admin/assets/index.4f27bd16.js","/vite-vue3-admin/assets/index.9a63e71c.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css","/vite-vue3-admin/assets/form-modal.828cd11d.js","/vite-vue3-admin/assets/form-modal.9ad7ae3d.css","/vite-vue3-admin/assets/schema-form.bf534207.js","/vite-vue3-admin/assets/schema-form.4ba5aed5.css","/vite-vue3-admin/assets/index.475b4c54.js","/vite-vue3-admin/assets/common.93b6a545.js","/vite-vue3-admin/assets/index.3ca0352e.js"])},_t=(e,t=-1,n=[],s="")=>e.filter((e=>e.parentId==t)).map((t=>{const{icon:n,id:a,name:o,parentId:r,sort:i,keepAlive:c,meta:l,url:u}=t;let d=u.startsWith("/")?u:"/"+u;d=u.startsWith(s)?d:s+d,d=[...new Set(d.split("/"))].join("/");const m=kt[d]||K||(()=>Ve((()=>import("./404.e255c8f3.js")),["/vite-vue3-admin/assets/404.e255c8f3.js","/vite-vue3-admin/assets/404.f0a57bee.css","/vite-vue3-admin/assets/vendor.6799ef26.js","/vite-vue3-admin/assets/vendor.918c298f.css"]));return{path:d,name:d||"",children:_t(e,t.id,[],d),component:m,props:!0,meta:{title:(null==l?void 0:l.title)||o,icon:n||"icon-zhuomian",keepAlive:1==c,reload:!1,componentName:m.name,permission:-1==r?[]:["create","update","retrieve","delete"].map((e=>`${d.split("/").filter((e=>""!=e.trim())).join(".")}.${e}`))}}})).sort(((e,t)=>e.sort-t.sort)),Tt=()=>new Promise(((e,t)=>{vt.request({url:bt.adminMenus,method:"GET"}).then((t=>{const n=_t(t);n.forEach((e=>{var t;(null==(t=e.children)?void 0:t.length)>0&&!e.redirect&&(e.redirect={name:e.children[0].name})}));const s=gt.find((e=>"Layout"==e.name));s.children=[...pt,...n],ht.addRoute(s),ht.addRoute(dt),e(s.children)})).catch((e=>{t(e)}))}));var Lt={namespaced:!0,state:{menus:[],keepAliveComponents:[]},getters:$e,mutations:{setRouters:(e,t)=>{e.menus=t},setKeepAliveComponents:(e,t)=>{e.keepAliveComponents=t}},actions:{async generateRoutes({commit:e}){const t=await Tt();return e("setRouters",t),t}}},wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lt});const Et=Qe.get("Is-Lockscreen",!1);var It={namespaced:!0,state:{isLock:!0===Et,lockTime:"true"==Et?3600:0},mutations:{setLock:(e,t)=>{e.isLock=t,Qe.set("Is-Lockscreen",e.isLock)},setLockTime:(e,t=3600)=>{e.lockTime=t}}},Rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:It});const Ot=["Redirect","login"];var St={namespaced:!0,state:{tabsList:[]},mutations:{initTabs(e,t){e.tabsList=t},addTabs(e,t){if(Ot.includes(t.name))return!1;return e.tabsList.some((e=>e.fullPath==t.fullPath))||e.tabsList.push(t),!0},closeLeftTabs(e,t){const n=e.tabsList.findIndex((e=>e.fullPath==t.fullPath));e.tabsList.splice(0,n)},closeRightTabs(e,t){const n=e.tabsList.findIndex((e=>e.fullPath==t.fullPath));e.tabsList.splice(n+1)},closeOtherTabs(e,t){e.tabsList=e.tabsList.filter((e=>e.fullPath==t.fullPath))},closeCurrentTab(e,t){const n=e.tabsList.findIndex((e=>e.fullPath==t.fullPath));e.tabsList.splice(n,1)},closeAllTabs(e){e.tabsList=[],localStorage.removeItem("Tabs-Routes")}}},Pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:St});const Ct=Ye({storage:localStorage}),At={token:Ct.get("Access-Token",""),name:"",welcome:"",avatar:"",roles:[],info:Ct.get("Current-User",{})};var xt;!function(e){e.login="/admin/login",e.logout="/login/logout"}(xt||(xt={}));var jt={namespaced:!0,state:At,mutations:{setToken:(e,t)=>{e.token=t},setAvatar:(e,t)=>{e.avatar=t},setRoles:(e,t)=>{e.roles=t},setUserInfo:(e,t)=>{e.info=t}},actions:{async login({commit:e},t){try{const s=await(n=t,vt.request({url:xt.login,method:"POST",params:n},{isTransformRequestResult:!1})),{result:a,code:o,message:r}=s;if(0==o){const t=6048e5;Qe.set("Access-Token",a.token,t),Qe.set("Current-User",a,t),Qe.set("Is-Lockscreen",!1),e("setToken",a.token),e("setUserInfo",a),$t.commit("lockscreen/setLock",!1)}return Promise.resolve(s)}catch(s){return Promise.reject(s)}var n},getUserInfo:({commit:e})=>new Promise(((t,n)=>{vt.request({url:xt.login,method:"POST"},{isTransformRequestResult:!1}).then((s=>{const a=s.result;if(a.role&&a.role.permissions.length>0){const t=a.role;t.permissions=a.role.permissions,t.permissions.map((e=>{if(null!=e.actionEntitySet&&e.actionEntitySet.length>0){const t=e.actionEntitySet.map((e=>e.action));e.actionList=t}})),t.permissionList=t.permissions.map((e=>e.permissionId)),e("setRoles",a.role),e("setUserInfo",a)}else n(new Error("getInfo: roles must be a non-null array !"));e("setAvatar",a.avatar),t(s)})).catch((e=>{n(e)}))})),logout:async({commit:e})=>(e("setRoles",[]),e("setUserInfo",""),Qe.remove("Access-Token"),Qe.remove("Current-User"),Promise.resolve(""))},getters:{token:e=>e.token,avatar:e=>e.avatar,nickname:e=>e.name,roles:e=>e.roles,userInfo:e=>e.info}};const Dt={"./async-route/index.ts":wt,"./lockscreen/index.ts":Rt,"./tabs-view/index.ts":Pt,"./user/index.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jt})},Ut={};Object.keys(Dt).forEach((e=>{const t=e.split("/")[1];Ut[t]=Dt[e][t]||Dt[e].default||Dt[e]}));var Mt={asyncRoute:Lt,user:jt,tabsView:St,lockscreen:It};const qt=Symbol(),$t=B({plugins:[],modules:Mt});function Ft(){return H(qt)}var Nt=m({name:"Lockscreen",components:{LockOutlined:G,LoadingOutlined:J,UnlockOutlined:W,UserOutlined:X,ArrowRightOutlined:Y,ApiOutlined:Q,WifiOutlined:Z,[ee.name]:ee,HuaweiCharge:ke,XiaomiCharge:Se},setup(e,{emit:t}){var n;const s=Ft();O((()=>s.state["lockscreen/isLock"]));const{month:a,day:o,hour:r,minute:m,second:p,week:g}=function(){let e;const t=l(0),n=l(0),s=l(""),a=l(0),o=l(0),r=l(0),i=l(0),c=()=>{var e,c;const l=new Date;t.value=l.getFullYear(),n.value=l.getMonth()+1,s.value="日一二三四五六".charAt(l.getDay()),a.value=l.getDate(),o.value=(null==(e=l.getHours()+"")?void 0:e.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getHours()),r.value=(null==(c=l.getMinutes()+"")?void 0:c.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getMinutes()),i.value=l.getSeconds()};return c(),u((()=>{clearInterval(e),e=setInterval((()=>c()),1e3)})),d((()=>{clearInterval(e)})),{month:n,day:a,hour:o,minute:r,second:i,week:s}}(),{online:h}=ye(),f=te(),v=ne(),{battery:b,batteryStatus:y,calcDischargingTime:k}=qe(),_=R({isShowLogin:!1,loginLoading:!1,loginForm:{username:null==(n=s.getters["user/userInfo"])?void 0:n.username,password:""}}),T=e=>_.isShowLogin=e;return c(i({},I(_)),{online:h,month:a,day:o,hour:r,minute:m,second:p,week:g,battery:b,batteryStatus:y,calcDischargingTime:k,unLockLogin:T,onLogin:async()=>{if(""==_.loginForm.password.trim())return A.warn("请填写密码");const e=i({},_.loginForm);_.loginLoading=!0;const{code:t,result:n,message:a}=await s.dispatch("user/login",e).finally((()=>{_.loginLoading=!1,A.destroy()}));0==t?(z.destroyAll(),A.success("登录成功！"),T(!1),s.commit("lockscreen/setLock",!1)):A.info(a||"登录失败"),_.loginLoading=!1},nav2login:()=>{T(!1),s.commit("lockscreen/setLock",!1),f.replace({path:"/login",query:{redirect:v.fullPath}})}})}});const Vt=L();p("data-v-1aff3278");const zt={class:"lock-box"},Kt={class:"lock"},Bt=v("h6",{class:"tips"},"由于您长时间未操作，需重新输入登录密码解锁进入系统。",-1),Ht={key:1,class:"login-box"},Gt={class:"username"},Jt={class:"local-time"},Wt={class:"time"},Xt={class:"date"},Yt={class:"computer-status"};g();const Qt=Vt(((e,t,n,s,a,o)=>{const r=U("lock-outlined"),i=U("unlock-outlined"),c=U("user-outlined"),l=U("a-avatar"),u=U("LoadingOutlined"),d=U("arrow-right-outlined"),m=U("a-input-search"),p=U("wifi-outlined"),g=U("api-outlined");return h(),f("div",{class:[{unLockLogin:e.isShowLogin},"lockscreen"],onKeyup:t[4]||(t[4]=t=>e.unLockLogin(!0)),onMousedown:t[5]||(t[5]=ae((()=>{}),["stop"])),onContextmenu:t[6]||(t[6]=ae((()=>{}),["prevent"]))},[e.isShowLogin?se("",!0):(h(),f(y,{key:0},[v("div",zt,[v("div",Kt,[v("span",{class:"lock-icon",title:"解锁屏幕",onClick:t[1]||(t[1]=t=>e.unLockLogin(!0))},[v(r),v(i)])]),Bt]),(h(),f(F(Math.random()>.48?"xiaomi-charge":"huawei-charge"),{battery:e.battery,"battery-status":e.batteryStatus,"calc-discharging-time":e.calcDischargingTime},null,8,["battery","battery-status","calc-discharging-time"]))],64)),e.isShowLogin?(h(),f("div",Ht,[v(l,{size:128},{icon:Vt((()=>[v(c)])),_:1}),v("div",Gt,b(e.loginForm.username),1),v(m,{value:e.loginForm.password,"onUpdate:value":t[2]||(t[2]=t=>e.loginForm.password=t),type:"password",autofocus:"",placeholder:"请输入登录密码",size:"large",onSearch:e.onLogin},{enterButton:Vt((()=>[e.loginLoading?(h(),f(u,{key:0})):(h(),f(d,{key:1}))])),_:1},8,["value","onSearch"]),v("a",{style:{"margin-top":"10px"},onClick:t[3]||(t[3]=(...t)=>e.nav2login&&e.nav2login(...t))},"重新登录")])):se("",!0),e.isShowLogin?se("",!0):(h(),f(y,{key:2},[v("div",Jt,[v("div",Wt,b(e.hour)+":"+b(e.minute),1),v("div",Xt,b(e.month)+"月"+b(e.day)+"号，星期"+b(e.week),1)]),v("div",Yt,[v("span",{class:[{offline:!e.online},"network"]},[v(p,{class:"network"})],2),v(g)])],64))],34)}));Nt.render=Qt,Nt.__scopeId="data-v-1aff3278";var Zt=m({name:"App",components:{ConfigProvider:oe,LockScreen:Nt},setup(){const e=ne(),t=Ft(),n=O((()=>t.state.lockscreen.isLock)),s=O((()=>t.state.lockscreen.lockTime));let a;const o=()=>{clearInterval(a),"login"==e.name||n.value||(t.commit("lockscreen/setLock",!1),t.commit("lockscreen/setLockTime"),a=setInterval((()=>{if(t.commit("lockscreen/setLockTime",s.value-1),s.value<=0)return t.commit("lockscreen/setLock",!0),clearInterval(a)}),1e3))};return u((()=>{document.addEventListener("mousedown",o)})),d((()=>{document.removeEventListener("mousedown",o)})),{zhCN:re,isLock:n}}});Zt.render=function(e,t,n,s,a,o){const r=U("router-view"),i=U("config-provider"),c=U("lock-screen");return h(),f(y,null,[_(v(i,{locale:e.zhCN},{default:M((()=>[v(r,null,{default:M((({Component:e})=>[(h(),f(F(e)))])),_:1})])),_:1},8,["locale"]),[[T,!e.isLock]]),v(q,{name:"slide-up"},{default:M((()=>[e.isLock&&"login"!=e.$route.name?(h(),f(c,{key:0})):se("",!0)])),_:1})],64)};const en=["default","primary","ghost","dashed","danger","link"];var tn=m({name:"AButton",components:{"antd-button":ie},props:{type:{type:String,default:"default"}},setup:e=>({buttonTypes:en})});const nn=L(),sn=nn(((e,t,n,s,a,o)=>{const r=U("antd-button");return h(),f(r,le(e.$attrs,{type:e.buttonTypes.includes(e.type)?e.type:"default",class:[`ant-btn-${e.type}`]}),ce({_:2},[k(e.$slots,((t,n)=>({name:n,fn:nn((t=>[ue(e.$slots,n,{},void 0,!0)]))})))]),1040,["type","class"])}));tn.render=sn,tn.__scopeId="data-v-607a2e9a";const an=(e,t=!1)=>{const n=ht.currentRoute.value;return e=n.path.split("/").filter((e=>""!=e.trim())).join(".")+"."+e,n.meta.permission.includes(e)},on=e=>{e.config.globalProperties.$hasPermission=an},rn={mounted(e,t,n){if(null==t.value)return;const{action:s,effect:a}=t.value;null!=s&&(an(s)||("disabled"==a?(e.disabled=!0,e.setAttribute("title","没有权限")):e.remove()))}};var cn=m({name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},setup:e=>({iconName:O((()=>`#icon-${e.iconClass}`)),svgClass:O((()=>"svg-icon"))})});const ln=L()(((e,t,n,s,a,o)=>(h(),f("svg",{class:e.svgClass,"aria-hidden":"true"},[v("use",{"xlink:href":e.iconName},null,8,["xlink:href"])],2))));cn.render=ln,cn.__scopeId="data-v-6789d97e";const un=be(Zt);var dn;(dn=un).component("AButton",tn),dn.use(de).use(me).use(z).use(pe).use(ge).use(he).use(fe).use(ve),function(e){e.component(cn.name,cn)}(un),function(e){e.directive("permission",rn)}(un),function(e){e.use(on)}(un),function(e){e.use($t,qt)}(un),function(e){var t;e.use(ht),(t=ht).beforeEach(((e,n,s)=>{if(x.start(),Qe.get("Access-Token"))if("login"===e.name)s({path:"/dashboard"}),x.done();else{const a=t.hasRoute(e.name);ct({to:e,from:n,next:s,hasRoute:a}),(it.includes(e.name)||a)&&s()}else it.includes(e.name)?s():(s({path:"/login",query:{redirect:e.fullPath},replace:!0}),x.done())})),t.afterEach(((e,t,n)=>{var s,a,o,r,i;document.title=(null==(s=null==e?void 0:e.meta)?void 0:s.title)||document.title,D(n);const c=$t.state.asyncRoute.keepAliveComponents,l=null==(o=null==(a=e.matched.find((t=>t.name==e.name)))?void 0:a.components)?void 0:o.default.name;if(l&&!c.includes(l)&&(null==(r=e.meta)?void 0:r.keepAlive))c.push(l);else if(!(null==(i=e.meta)?void 0:i.keepAlive)||"Redirect"==e.name){const e=$t.state.asyncRoute.keepAliveComponents.findIndex((e=>e==l));-1!=e&&c.splice(e,1)}$t.commit("asyncRoute/setKeepAliveComponents",c),x.done()})),t.onError((e=>{}))}(un),ht.isReady().then((()=>un.mount("#app")));export{vt as A,nt as R,rt as T,cn as _,ke as a,ye as b,qe as c,tn as d,Be as e,He as f,Ge as i,gt as r,Qe as s,Ft as u};
